#include <linux/init.h>
#include <linux/module.h>
#include <linux/slab.h>
#include <linux/i2c.h>
#include <linux/delay.h>
#include <linux/videodev2.h>
#include <media/v4l2-device.h>
#include <media/v4l2-chip-ident.h>
#include <media/v4l2-mediabus.h>
#include <mach/ovisp-v4l2.h>
//#include "AW6120.h"

#define GC1004_IIC_ADDR (0x78 >> 1)
#define GC1004_SENSOR_ID_H	(0x10)
#define GC1004_SENSOR_ID_L	(0x04)

#define AW6120_CHIP_ID_H	(0x58)
#define AW6120_CHIP_ID_L	(0x43)

#define MAX_WIDTH		640 //1280
#define MAX_HEIGHT		480 //720

#define AW6120_REG_END		0xffff
#define AW6120_REG_DELAY	0xffff

//#define AW6120_YUV

struct AW6120_format_struct;
struct AW6120_info {
	struct v4l2_subdev sd;
	struct AW6120_format_struct *fmt;
	struct AW6120_win_setting *win;
};

struct regval_list {
	unsigned short reg_num;
	unsigned char value;
};

#define SENSOR_AE_DEBUG  1
#define SENSOR_COLORBAR	0

#if SENSOR_AE_DEBUG  //clivia tst
// isp check mipi rx whether there is data.
static struct regval_list AW6120_check_ae_rx_regs[] = {
	{0xfffe, 0x14},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};
// read isp reg
static struct regval_list AW6120_check_ae_rx_read_regs[] = {
	{0x003c, 0x00},
	{0x002b, 0x00},
	{0x0026, 0x00},
	{0x0027, 0x00},
	{0x0002, 0x00},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

static struct regval_list AW6120_check_ae2_rx_regs[] = {
	{0xfffe, 0x21},
	//{0x001a, 0xa0},
	/*	{0x0684,0x05},
		{0x0685,0x00},
		{0x0686,0x02},
		{0x0687,0xd0},
		*/
	{AW6120_REG_END, 0x00},	/* END MARKER */
};
// read isp reg
static struct regval_list AW6120_check_ae2_rx_read_regs[] = {
	{0x006c, 0x00},
	{0x0098, 0x00},
	{0x0099, 0x00},
	{0x009c, 0x00},
	{0x009d, 0x00},
	{0x0019, 0x00},
	{0x0051, 0x00},
	{0x019c, 0x00},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};
static struct regval_list gc1004_check_wae_regs[] = {

	{0xfe,0x00},
	//{0x8b,0xb2},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};
static struct regval_list gc1004_check_rae_regs[] = {

	{0x92,0x00},
	{0x94,0x00},
	{0x03,0x00},
	{0x04,0x00},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};
#endif //SENSOR_AE_DEBUG

static struct regval_list AW6120_stream_on[] = {
#if SENSOR_COLORBAR //color bar
	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x0090,0x2b},/*2b colorbar 28 mipi rx*/
#endif
	{0xfffd,0x80},
	{0xfffe,0x26},
	{0x2023,0x03},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

static struct regval_list AW6120_stream_off[] = {
	{0xfffd,0x80},
	{0xfffe,0x26},
	{0x2023,0x00},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

// AW6120_init_720p_yuyv_regs for aw6120 colorbar init
static struct regval_list AW6120_init_720p_yuyv_regs[] = {
	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x001c,0xff},
	{0x001d,0xff},
	{0x001e,0xff},
	{0x001f,0xff},
	{0x0018,0x00},
	{0x0019,0x00},
	{0x001a,0x00},
	{0x001b,0x00},
	{0x00bc,0x11},
	{0x00bd,0x00},
	{0x00be,0x00},
	{0x00bf,0x00},
	{0x0020,0x01},
	{0x0021,0x0e},
	{0x0022,0x00},
	{0x0023,0x00},
	{0x0024,0x03},
	{0x0025,0x0e},
	{0x0026,0x01},
	{0x0027,0x0e},
	{0x0030,0x51},
	{0x0031,0x20},
	{0x0032,0x70},
	{0x0033,0x11},

	{0xfffd,0x80},
	{0xfffe,0x26},
	{0x0002,0x00},

	{0xfffe,0x25},
	{0x0002,0x40},

	{0xfffe,0x80},
	{0x001e,0xfb},
	{0x0050,0x06},
	{0x0054,0x06},
	{0x0058,0x04},
	{0x001e,0xff},
	{0x0058,0x00},
	{0x0058,0x02},
	//	{AW6120_REG_DELAY, 0x20},	/* DELAY MARKER */

	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x00bc,0x91},
	{0x001b,0x00},
	{0x0090,0x28},//2b colorbar 28 mipi rx

	{0xfffe,0x26},
	{0x0000,0x20},
	{0x0002,0x00},
	{0x0009,0x04},
	{0x4000,0xf9},
	{0x6001,0x17},
	{0x6005,0x04},
	{0x6006,0x0a},
	{0x6007,0x8c},
	{0x6008,0x09},
	{0x6009,0xfc},
	{0x8000,0x3f}, //modify
	{0x8001,0x00},
	{0x8002,0x05},
	{0x8003,0xd0},
	{0x8004,0x02},
	{0x8005,0x03},
	{0x8006,0x05},
	{0x8007,0x99},
	{0x8010,0x04},
	{0x2019,0x05},
	{0x201a,0x00},
	{0x201b,0x02},
	{0x201c,0xd0},
	{0x201d,0x00},
	{0x201e,0x00},
	{0x201f,0x00},
	{0x2020,0x00},
	{0x2015,0x80},
	{0x2017,0x1e},
	{0x2018,0x1e},
	{0x2023,0x00},
	{0x8012,0x00},//1280
	{0x8013,0x05},
	{0x8014,0xd0},//720
	{0x8015,0x02},
	{0x8016,0x00},
	{0x8017,0x00},
	{0x8018,0x00},
	{0x8019,0x00},

	{0xfffe,0x21},
	{0x0001,0x01},
	{0x0004,0x10},
	{0x0708,0x00},
	{0x0072,0x00},
	{0x0074,0x00},
	{0x0006,0x05},
	{0x0007,0x00},
	{0x0008,0x02},
	{0x0009,0xd0},
	{0x000a,0x05},
	{0x000b,0x00},
	{0x000c,0x02},
	{0x000d,0xd0},
	{0x001e,0x05},
	{0x001f,0x00},
	{0x0020,0x02},
	{0x0021,0xd0},
	{0x005e,0xff},
	{0x005f,0x04},
	{0x0060,0xcf},
	{0x0061,0x02},
	{0x0064,0x00},
	{0x0065,0x05},
	{0x0066,0xd0},
	{0x0067,0x02},
	{0x0076,0x05},
	{0x0077,0x00},
	{0x0078,0x02},
	{0x0079,0xd0},
	{0x0700,0x00},
	{0x0701,0x00},
	{0x0702,0x00},
	{0x0703,0x00},
	{0x0704,0x05},
	{0x0705,0x00},
	{0x0706,0x02},
	{0x0707,0xd0},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

// Aw6120 init and bypass read Sensor ID
static struct regval_list AW6120_init_read_sensor_id_regs[] = {
	//AW6120 init
	{0xFFFD,0x80},
	{0xFFFE,0x80},
	{0x001c,0xff},
	{0x001d,0xff},
	{0x001e,0xff},
	{0x001f,0xff},
	{0x0018,0x00},
	{0x0019,0x00},
	{0x001a,0x00},
	{0x001b,0x00},
	{0x00bc,0x19},
	{0x00bd,0x00},
	{0x00be,0x00},
	{0x00bf,0x00},
	{0x0020,0x01},
	{0x0021,0x0e},
	{0x0022,0x00},
	{0x0023,0x00},
	{0x0024,0x04},
	{0x0025,0x0e},
	{0x0026,0x01},
	{0x0027,0x0e},
	{0x0030,0x61},
	{0x0031,0x20},
	{0x0032,0x70},
	{0x0033,0x12},
	{0xFFFE,0x25},
	{0x0002,0x40},
	{0xfffd,0x80},
	{0xfffe,0x26},
	{0x0002,0x00},

	//AW6120 init end
	//config sensor pwdn&reset
	{0xfffd,0x80},
	{0xfffe,0x80},
	//{0x004d,0x01}, //  I2C bypass
	{0x0050,0x06},  //  PWDN,GPIO1,GPIO0 en
	{0x0054,0x06},  //  PWDN,GPIO1,ouput control sensorPWDN&reset
	{0x0058,0x04}, //  sensor reset = 0, pwdn = 1
	{AW6120_REG_DELAY, 5},	/* DELAY MARKER */
	{0x0058,0x02}, //  sensor reset = 1, pwdn = 0
	{AW6120_REG_DELAY, 5},	/* DELAY MARKER */
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

// AW6120_init_720p_sensor_regs for aw6120 rx sensor init
static struct regval_list AW6120_init_720p_sensor_regs[] = {
	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x001c,0xff},
	{0x001d,0xff},
	{0x001e,0xff},
	{0x001f,0xff},
	{0x0018,0x00},
	{0x0019,0x00},
	{0x001a,0x00},
	{0x001b,0x00},
	{0x00bc,0x11},
	{0x00bd,0x00},
	{0x00be,0x00},
	{0x00bf,0x00},
	{0x0020,0x01},
	{0x0021,0x0e},
	{0x0022,0x00},
	{0x0023,0x00},
	{0x0024,0x03},
	{0x0025,0x0e},
	{0x0026,0x01},
	{0x0027,0x0e},
	{0x0030,0x51},
	{0x0031,0x20},
	{0x0032,0x70},
#if 1
	{0x0033,0x11}, //clivia debug set mipi tx speed as 378M
#else
	{0x0033,0x12}, //768M
#endif
	//  {0xfffd,0x80},
	//  {0xfffe,0x25},
	// {0x0002,0x40}, //set gc1004 clk 400Khz
	{0xfffd,0x80},
	{0xfffe,0x26},
	{0x0002,0x00},  //VGA
	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x00bc,0x91},
	{0x001b,0x0},
	{0x0090,0x28},
	{0x0038,0x03},
	{0xfffe,0x26},
	{0x0000,0x20},
	{0x0002,0x0},
	{0x0009,0x4},
	{0x4000,0xF9},
	{0x6001,0x17},
	{0x6005,0x4},
	{0x6006,0x5},
	{0x6007,0x78},
	{0x6008,0x4},
	{0x6009,0xFC},
	{0x8000,0x3f},
	{0x8001,0x80},
	{0x8002,0x2},
	{0x8003,0xE0},
	{0x8004,0x1},
	{0x8005,0x3},
	{0x8006,0x5},
	{0x8007,0x99},
	{0x8010,0x4},
	{0x2019,0x2},
	{0x201a,0x80},
	{0x201b,0x1},
	{0x201c,0xE0},
	{0x201d,0x0},
	{0x201e,0x0},
	{0x201f,0x0},
	{0x2020,0x0},
	{0x2015,0x80},
	{0x2017,0x1e},
	{0x2018,0x1e},
	{0x2023,0x3},
	{0x8012,0x80},
	{0x8013,0x2},
	{0x8014,0xE0},
	{0x8015,0x1},
	{0x8016,0x0},
	{0x8017,0x0},
	{0x8018,0x0},
	{0x8019,0x0},
	{0xfffe,0x21},
	{0x0001,0x1},
	{0x0004,0x10},
	{0x0708,0x0},
	{0x0072,0x0},
	{0x0074,0x0},
	{0x0006,0x2},
	{0x0007,0x80},
	{0x0008,0x1},
	{0x0009,0xE0},
	{0x000a,0x2},
	{0x000b,0x80},
	{0x000c,0x1},
	{0x000d,0xE0},
	{0x001e,0x2},
	{0x001f,0x80},
	{0x0020,0x1},
	{0x0021,0xE0},
	{0x005e,0x7F},
	{0x005f,0x2},
	{0x0060,0xDF},
	{0x0061,0x1},
	{0x0064,0x80},
	{0x0065,0x2},
	{0x0066,0xE0},
	{0x0067,0x1},
	{0x0076,0x2},
	{0x0077,0x80},
	{0x0078,0x1},
	{0x0079,0xE0},
	{0x0700,0x0},
	{0x0701,0x0},
	{0x0702,0x0},
	{0x0703,0x0},
	{0x0704,0x2},
	{0x0705,0x80},
	{0x0706,0x1},
	{0x0707,0xE0},

	{0x006c, 0x00},

	// sensor gpio enable
	{0xfffd, 0x80},
	{0xfffe, 0x80},
	{0x0050, 0x06},
	{0x0054, 0x06},
	{0x0058, 0x00},
	{AW6120_REG_DELAY, 0x20},	/* DELAY MARKER */
	{0x0058, 0x00},
	{AW6120_REG_DELAY, 0x20},	/* DELAY MARKER */
	{0x0058, 0x02},
	{AW6120_REG_DELAY, 0x20},	/* DELAY MARKER */

	{AW6120_REG_END, 0x00},	/* END MARKER */
};

static struct regval_list AW6120_pre[] =
{
#if 1
	{0xfffd,0x80},        //patch
	{0xfffe,0x14},
	{0x1014,0x9c},
	{0x1015,0x21},
	{0x1016,0xff},
	{0x1017,0xf0},
	{0x1018,0xd4},
	{0x1019,0x01},
	{0x101a,0x48},
	{0x101b,0x00},
	{0x101c,0xd4},
	{0x101d,0x01},
	{0x101e,0x50},
	{0x101f,0x04},
	{0x1020,0xd4},
	{0x1021,0x01},
	{0x1022,0x60},
	{0x1023,0x08},
	{0x1024,0xd4},
	{0x1025,0x01},
	{0x1026,0x70},
	{0x1027,0x0c},
	{0x1028,0x19},
	{0x1029,0xc0},
	{0x102a,0x00},
	{0x102b,0x14},
	{0x102c,0xa9},
	{0x102d,0xce},
	{0x102e,0x00},
	{0x102f,0x18},
	{0x1030,0x84},
	{0x1031,0xce},
	{0x1032,0x00},
	{0x1033,0x00},
	{0x1034,0x8c},
	{0x1035,0x66},
	{0x1036,0x00},
	{0x1037,0x00},
	{0x1038,0xbc},
	{0x1039,0x23},
	{0x103a,0x00},
	{0x103b,0x01},
	{0x103c,0x0c},
	{0x103d,0x00},
	{0x103e,0x00},
	{0x103f,0xb7},
	{0x1040,0x18},
	{0x1041,0x60},
	{0x1042,0x80},
	{0x1043,0x21},
	{0x1044,0xa8},
	{0x1045,0x83},
	{0x1046,0x11},
	{0x1047,0x0a},
	{0x1048,0xa8},
	{0x1049,0xa3},
	{0x104a,0x11},
	{0x104b,0x0b},
	{0x104c,0x8c},
	{0x104d,0x64},
	{0x104e,0x00},
	{0x104f,0x00},
	{0x1050,0x8c},
	{0x1051,0x85},
	{0x1052,0x00},
	{0x1053,0x00},
	{0x1054,0xb8},
	{0x1055,0x63},
	{0x1056,0x00},
	{0x1057,0x08},
	{0x1058,0xe0},
	{0x1059,0x63},
	{0x105a,0x20},
	{0x105b,0x00},
	{0x105c,0xd4},
	{0x105d,0x06},
	{0x105e,0x18},
	{0x105f,0x08},
	{0x1060,0x18},
	{0x1061,0x60},
	{0x1062,0x80},
	{0x1063,0x80},
	{0x1064,0x85},
	{0x1065,0x0e},
	{0x1066,0x00},
	{0x1067,0x00},
	{0x1068,0xa8},
	{0x1069,0x83},
	{0x106a,0x01},
	{0x106b,0x24},
	{0x106c,0x84},
	{0x106d,0xc8},
	{0x106e,0x00},
	{0x106f,0x08},
	{0x1070,0x8d},
	{0x1071,0xa4},
	{0x1072,0x00},
	{0x1073,0x00},
	{0x1074,0xa8},
	{0x1075,0xa3},
	{0x1076,0x01},
	{0x1077,0x25},
	{0x1078,0xa8},
	{0x1079,0xe3},
	{0x107a,0x01},
	{0x107b,0x26},
	{0x107c,0x84},
	{0x107d,0x88},
	{0x107e,0x00},
	{0x107f,0x04},
	{0x1080,0x8d},
	{0x1081,0xe5},
	{0x1082,0x00},
	{0x1083,0x00},
	{0x1084,0xe2},
	{0x1085,0x66},
	{0x1086,0x23},
	{0x1087,0x06},
	{0x1088,0xa9},
	{0x1089,0x43},
	{0x108a,0x01},
	{0x108b,0x3f},
	{0x108c,0x8e},
	{0x108d,0x27},
	{0x108e,0x00},
	{0x108f,0x00},
	{0x1090,0xa8},
	{0x1091,0xa3},
	{0x1092,0x01},
	{0x1093,0x3c},
	{0x1094,0xa9},
	{0x1095,0x63},
	{0x1096,0x01},
	{0x1097,0x2d},
	{0x1098,0xa8},
	{0x1099,0xe3},
	{0x109a,0x01},
	{0x109b,0x3e},
	{0x109c,0xa9},
	{0x109d,0x8d},
	{0x109e,0x00},
	{0x109f,0x00},
	{0x10a0,0x8c},
	{0x10a1,0x85},
	{0x10a2,0x00},
	{0x10a3,0x00},
	{0x10a4,0xa8},
	{0x10a5,0xc3},
	{0x10a6,0x01},
	{0x10a7,0x3d},
	{0x10a8,0x8c},
	{0x10a9,0xa6},
	{0x10aa,0x00},
	{0x10ab,0x00},
	{0x10ac,0xb8},
	{0x10ad,0xc4},
	{0x10ae,0x00},
	{0x10af,0x18},
	{0x10b0,0xb8},
	{0x10b1,0x65},
	{0x10b2,0x00},
	{0x10b3,0x10},
	{0x10b4,0x8c},
	{0x10b5,0x87},
	{0x10b6,0x00},
	{0x10b7,0x00},
	{0x10b8,0xe0},
	{0x10b9,0x66},
	{0x10ba,0x18},
	{0x10bb,0x00},
	{0x10bc,0x8c},
	{0x10bd,0xea},
	{0x10be,0x00},
	{0x10bf,0x00},
	{0x10c0,0xb8},
	{0x10c1,0x84},
	{0x10c2,0x00},
	{0x10c3,0x08},
	{0x10c4,0x8c},
	{0x10c5,0xab},
	{0x10c6,0x00},
	{0x10c7,0x00},
	{0x10c8,0xe0},
	{0x10c9,0x63},
	{0x10ca,0x20},
	{0x10cb,0x00},
	{0x10cc,0x8c},
	{0x10cd,0xc8},
	{0x10ce,0x00},
	{0x10cf,0x1c},
	{0x10d0,0xa8},
	{0x10d1,0x8f},
	{0x10d2,0x00},
	{0x10d3,0x00},
	{0x10d4,0xbc},
	{0x10d5,0x05},
	{0x10d6,0x00},
	{0x10d7,0x00},
	{0x10d8,0x10},
	{0x10d9,0x00},
	{0x10da,0x00},
	{0x10db,0x1f},
	{0x10dc,0xe0},
	{0x10dd,0xe3},
	{0x10de,0x38},
	{0x10df,0x00},
	{0x10e0,0xe0},
	{0x10e1,0xb1},
	{0x10e2,0x78},
	{0x10e3,0x00},
	{0x10e4,0xe4},
	{0x10e5,0x6f},
	{0x10e6,0x88},
	{0x10e7,0x00},
	{0x10e8,0x10},
	{0x10e9,0x00},
	{0x10ea,0x00},
	{0x10eb,0x6e},
	{0x10ec,0x9d},
	{0x10ed,0x00},
	{0x10ee,0x00},
	{0x10ef,0x00},
	{0x10f0,0xa4},
	{0x10f1,0x66},
	{0x10f2,0xff},
	{0x10f3,0xff},
	{0x10f4,0xe4},
	{0x10f5,0x43},
	{0x10f6,0x28},
	{0x10f7,0x00},
	{0x10f8,0x10},
	{0x10f9,0x00},
	{0x10fa,0x00},
	{0x10fb,0x06},
	{0x10fc,0xe4},
	{0x10fd,0xb3},
	{0x10fe,0x38},
	{0x10ff,0x00},
	{0x1100,0xe4},
	{0x1101,0x83},
	{0x1102,0x40},
	{0x1103,0x00},
	{0x1104,0x0c},
	{0x1105,0x00},
	{0x1106,0x00},
	{0x1107,0xa7},
	{0x1108,0xbc},
	{0x1109,0x24},
	{0x110a,0x00},
	{0x110b,0x00},
	{0x110c,0xe4},
	{0x110d,0xb3},
	{0x110e,0x38},
	{0x110f,0x00},
	{0x1110,0x10},
	{0x1111,0x00},
	{0x1112,0x00},
	{0x1113,0x06},
	{0x1114,0x18},
	{0x1115,0x60},
	{0x1116,0x80},
	{0x1117,0x21},
	{0x1118,0xe4},
	{0x1119,0x66},
	{0x111a,0x60},
	{0x111b,0x00},
	{0x111c,0x0c},
	{0x111d,0x00},
	{0x111e,0x00},
	{0x111f,0xa5},
	{0x1120,0x9c},
	{0x1121,0xe0},
	{0x1122,0xff},
	{0x1123,0x80},
	{0x1124,0x18},
	{0x1125,0x60},
	{0x1126,0x80},
	{0x1127,0x21},
	{0x1128,0xa8},
	{0x1129,0x83},
	{0x112a,0x00},
	{0x112b,0x83},
	{0x112c,0xa8},
	{0x112d,0xa3},
	{0x112e,0x01},
	{0x112f,0x9c},
	{0x1130,0x8c},
	{0x1131,0x64},
	{0x1132,0x00},
	{0x1133,0x00},
	{0x1134,0xa4},
	{0x1135,0x63},
	{0x1136,0x00},
	{0x1137,0x7f},
	{0x1138,0xd8},
	{0x1139,0x04},
	{0x113a,0x18},
	{0x113b,0x00},
	{0x113c,0x8c},
	{0x113d,0x65},
	{0x113e,0x00},
	{0x113f,0x00},
	{0x1140,0xa4},
	{0x1141,0x63},
	{0x1142,0x00},
	{0x1143,0xef},
	{0x1144,0xd8},
	{0x1145,0x05},
	{0x1146,0x18},
	{0x1147,0x00},
	{0x1148,0x18},
	{0x1149,0x60},
	{0x114a,0x80},
	{0x114b,0x80},
	{0x114c,0xa8},
	{0x114d,0x63},
	{0x114e,0x01},
	{0x114f,0x25},
	{0x1150,0xd8},
	{0x1151,0x03},
	{0x1152,0x30},
	{0x1153,0x00},
	{0x1154,0x84},
	{0x1155,0x6e},
	{0x1156,0x00},
	{0x1157,0x00},
	{0x1158,0x84},
	{0x1159,0x63},
	{0x115a,0x00},
	{0x115b,0x08},
	{0x115c,0xb8},
	{0x115d,0x83},
	{0x115e,0x00},
	{0x115f,0x02},
	{0x1160,0xbc},
	{0x1161,0x44},
	{0x1162,0x00},
	{0x1163,0x59},
	{0x1164,0x10},
	{0x1165,0x00},
	{0x1166,0x00},
	{0x1167,0x2c},
	{0x1168,0xbc},
	{0x1169,0x44},
	{0x116a,0x00},
	{0x116b,0x75},
	{0x116c,0xa5},
	{0x116d,0x44},
	{0x116e,0xff},
	{0x116f,0xff},
	{0x1170,0x9d},
	{0x1171,0x80},
	{0x1172,0x00},
	{0x1173,0x00},
	{0x1174,0x84},
	{0x1175,0x6e},
	{0x1176,0x00},
	{0x1177,0x00},
	{0x1178,0xa8},
	{0x1179,0x8c},
	{0x117a,0x00},
	{0x117b,0x00},
	{0x117c,0x8c},
	{0x117d,0xa3},
	{0x117e,0x00},
	{0x117f,0x1f},
	{0x1180,0x07},
	{0x1181,0xfb},
	{0x1182,0x23},
	{0x1183,0x2e},
	{0x1184,0x94},
	{0x1185,0x63},
	{0x1186,0x00},
	{0x1187,0x40},
	{0x1188,0x84},
	{0x1189,0x6e},
	{0x118a,0x00},
	{0x118b,0x00},
	{0x118c,0xb8},
	{0x118d,0x8a},
	{0x118e,0x00},
	{0x118f,0x46},
	{0x1190,0x8c},
	{0x1191,0xa3},
	{0x1192,0x00},
	{0x1193,0x1f},
	{0x1194,0x07},
	{0x1195,0xfb},
	{0x1196,0x23},
	{0x1197,0x29},
	{0x1198,0x94},
	{0x1199,0x63},
	{0x119a,0x00},
	{0x119b,0x42},
	{0x119c,0x84},
	{0x119d,0x6e},
	{0x119e,0x00},
	{0x119f,0x00},
	{0x11a0,0xb8},
	{0x11a1,0x8a},
	{0x11a2,0x00},
	{0x11a3,0x02},
	{0x11a4,0x8c},
	{0x11a5,0xa3},
	{0x11a6,0x00},
	{0x11a7,0x1f},
	{0x11a8,0xa4},
	{0x11a9,0x84},
	{0x11aa,0x00},
	{0x11ab,0xfc},
	{0x11ac,0x07},
	{0x11ad,0xfb},
	{0x11ae,0x23},
	{0x11af,0x23},
	{0x11b0,0x94},
	{0x11b1,0x63},
	{0x11b2,0x00},
	{0x11b3,0x44},
	{0x11b4,0x18},
	{0x11b5,0x60},
	{0x11b6,0x00},
	{0x11b7,0x14},
	{0x11b8,0xa8},
	{0x11b9,0x63},
	{0x11ba,0x10},
	{0x11bb,0x0a},
	{0x11bc,0x84},
	{0x11bd,0x8e},
	{0x11be,0x00},
	{0x11bf,0x00},
	{0x11c0,0x94},
	{0x11c1,0x63},
	{0x11c2,0x00},
	{0x11c3,0x00},
	{0x11c4,0x84},
	{0x11c5,0x84},
	{0x11c6,0x00},
	{0x11c7,0x08},
	{0x11c8,0xe4},
	{0x11c9,0x64},
	{0x11ca,0x18},
	{0x11cb,0x00},
	{0x11cc,0x10},
	{0x11cd,0x00},
	{0x11ce,0x00},
	{0x11cf,0x1b},
	{0x11d0,0x15},
	{0x11d1,0x00},
	{0x11d2,0x00},
	{0x11d3,0x00},
	{0x11d4,0x18},
	{0x11d5,0x60},
	{0x11d6,0x00},
	{0x11d7,0x14},
	{0x11d8,0xa8},
	{0x11d9,0x63},
	{0x11da,0x10},
	{0x11db,0x00},
	{0x11dc,0x8c},
	{0x11dd,0x83},
	{0x11de,0x00},
	{0x11df,0x00},
	{0x11e0,0x18},
	{0x11e1,0x60},
	{0x11e2,0x00},
	{0x11e3,0x14},
	{0x11e4,0xa8},
	{0x11e5,0x63},
	{0x11e6,0x10},
	{0x11e7,0x01},
	{0x11e8,0x8c},
	{0x11e9,0x63},
	{0x11ea,0x00},
	{0x11eb,0x00},
	{0x11ec,0xa8},
	{0x11ed,0xa4},
	{0x11ee,0x00},
	{0x11ef,0x00},
	{0x11f0,0xa8},
	{0x11f1,0x83},
	{0x11f2,0x00},
	{0x11f3,0x00},
	{0x11f4,0x18},
	{0x11f5,0x60},
	{0x11f6,0x80},
	{0x11f7,0x80},
	{0x11f8,0xa8},
	{0x11f9,0x63},
	{0x11fa,0x01},
	{0x11fb,0x2c},
	{0x11fc,0x8c},
	{0x11fd,0x63},
	{0x11fe,0x00},
	{0x11ff,0x00},
	{0x1200,0xbc},
	{0x1201,0x23},
	{0x1202,0x00},
	{0x1203,0x01},
	{0x1204,0x10},
	{0x1205,0x00},
	{0x1206,0x00},
	{0x1207,0x96},
	{0x1208,0x18},
	{0x1209,0x60},
	{0x120a,0x80},
	{0x120b,0x21},
	{0x120c,0x00},
	{0x120d,0x00},
	{0x120e,0x00},
	{0x120f,0x20},
	{0x1210,0xa8},
	{0x1211,0xc3},
	{0x1212,0x05},
	{0x1213,0x81},
	{0x1214,0x10},
	{0x1215,0x00},
	{0x1216,0x00},
	{0x1217,0x39},
	{0x1218,0xbc},
	{0x1219,0x44},
	{0x121a,0x00},
	{0x121b,0xa2},
	{0x121c,0xb8},
	{0x121d,0x63},
	{0x121e,0x00},
	{0x121f,0x08},
	{0x1220,0x9c},
	{0x1221,0x80},
	{0x1222,0x00},
	{0x1223,0x5a},
	{0x1224,0x9d},
	{0x1225,0x80},
	{0x1226,0x00},
	{0x1227,0x01},
	{0x1228,0x07},
	{0x1229,0xfb},
	{0x122a,0x30},
	{0x122b,0x70},
	{0x122c,0x15},
	{0x122d,0x00},
	{0x122e,0x00},
	{0x122f,0x00},
	{0x1230,0x03},
	{0x1231,0xff},
	{0x1232,0xff},
	{0x1233,0xd1},
	{0x1234,0xa5},
	{0x1235,0x4b},
	{0x1236,0xff},
	{0x1237,0xff},
	{0x1238,0x18},
	{0x1239,0x60},
	{0x123a,0x00},
	{0x123b,0x14},
	{0x123c,0xa8},
	{0x123d,0x63},
	{0x123e,0x10},
	{0x123f,0x0c},
	{0x1240,0x94},
	{0x1241,0x63},
	{0x1242,0x00},
	{0x1243,0x00},
	{0x1244,0xe4},
	{0x1245,0x64},
	{0x1246,0x18},
	{0x1247,0x00},
	{0x1248,0x10},
	{0x1249,0x00},
	{0x124a,0x00},
	{0x124b,0x19},
	{0x124c,0x15},
	{0x124d,0x00},
	{0x124e,0x00},
	{0x124f,0x00},
	{0x1250,0x18},
	{0x1251,0x60},
	{0x1252,0x00},
	{0x1253,0x14},
	{0x1254,0xa8},
	{0x1255,0x63},
	{0x1256,0x10},
	{0x1257,0x02},
	{0x1258,0x8c},
	{0x1259,0x83},
	{0x125a,0x00},
	{0x125b,0x00},
	{0x125c,0x18},
	{0x125d,0x60},
	{0x125e,0x00},
	{0x125f,0x14},
	{0x1260,0xa8},
	{0x1261,0x63},
	{0x1262,0x10},
	{0x1263,0x03},
	{0x1264,0xa8},
	{0x1265,0xa4},
	{0x1266,0x00},
	{0x1267,0x00},
	{0x1268,0x8c},
	{0x1269,0x63},
	{0x126a,0x00},
	{0x126b,0x00},
	{0x126c,0xa8},
	{0x126d,0x83},
	{0x126e,0x00},
	{0x126f,0x00},
	{0x1270,0x18},
	{0x1271,0x60},
	{0x1272,0x80},
	{0x1273,0x80},
	{0x1274,0xa8},
	{0x1275,0x63},
	{0x1276,0x01},
	{0x1277,0x2c},
	{0x1278,0x8c},
	{0x1279,0x63},
	{0x127a,0x00},
	{0x127b,0x00},
	{0x127c,0xbc},
	{0x127d,0x23},
	{0x127e,0x00},
	{0x127f,0x01},
	{0x1280,0x10},
	{0x1281,0x00},
	{0x1282,0x00},
	{0x1283,0x77},
	{0x1284,0x18},
	{0x1285,0x60},
	{0x1286,0x80},
	{0x1287,0x21},
	{0x1288,0xa8},
	{0x1289,0xc3},
	{0x128a,0x05},
	{0x128b,0x81},
	{0x128c,0xa8},
	{0x128d,0x63},
	{0x128e,0x05},
	{0x128f,0x82},
	{0x1290,0xd8},
	{0x1291,0x06},
	{0x1292,0x28},
	{0x1293,0x00},
	{0x1294,0xd8},
	{0x1295,0x03},
	{0x1296,0x20},
	{0x1297,0x00},
	{0x1298,0x00},
	{0x1299,0x00},
	{0x129a,0x00},
	{0x129b,0x71},
	{0x129c,0x15},
	{0x129d,0x00},
	{0x129e,0x00},
	{0x129f,0x00},
	{0x12a0,0xe0},
	{0x12a1,0x6f},
	{0x12a2,0x88},
	{0x12a3,0x02},
	{0x12a4,0x03},
	{0x12a5,0xff},
	{0x12a6,0xff},
	{0x12a7,0x93},
	{0x12a8,0xa5},
	{0x12a9,0x03},
	{0x12aa,0xff},
	{0x12ab,0xff},
	{0x12ac,0x18},
	{0x12ad,0x60},
	{0x12ae,0x00},
	{0x12af,0x14},
	{0x12b0,0xa8},
	{0x12b1,0x63},
	{0x12b2,0x10},
	{0x12b3,0x0e},
	{0x12b4,0x94},
	{0x12b5,0x63},
	{0x12b6,0x00},
	{0x12b7,0x00},
	{0x12b8,0xe4},
	{0x12b9,0x64},
	{0x12ba,0x18},
	{0x12bb,0x00},
	{0x12bc,0x0c},
	{0x12bd,0x00},
	{0x12be,0x00},
	{0x12bf,0x32},
	{0x12c0,0x15},
	{0x12c1,0x00},
	{0x12c2,0x00},
	{0x12c3,0x00},
	{0x12c4,0x18},
	{0x12c5,0x60},
	{0x12c6,0x00},
	{0x12c7,0x14},
	{0x12c8,0xa8},
	{0x12c9,0x63},
	{0x12ca,0x10},
	{0x12cb,0x10},
	{0x12cc,0x94},
	{0x12cd,0x63},
	{0x12ce,0x00},
	{0x12cf,0x00},
	{0x12d0,0xe4},
	{0x12d1,0x64},
	{0x12d2,0x18},
	{0x12d3,0x00},
	{0x12d4,0x10},
	{0x12d5,0x00},
	{0x12d6,0x00},
	{0x12d7,0x47},
	{0x12d8,0x15},
	{0x12d9,0x00},
	{0x12da,0x00},
	{0x12db,0x00},
	{0x12dc,0x18},
	{0x12dd,0x60},
	{0x12de,0x00},
	{0x12df,0x14},
	{0x12e0,0xa8},
	{0x12e1,0x63},
	{0x12e2,0x10},
	{0x12e3,0x06},
	{0x12e4,0x8c},
	{0x12e5,0x83},
	{0x12e6,0x00},
	{0x12e7,0x00},
	{0x12e8,0x18},
	{0x12e9,0x60},
	{0x12ea,0x00},
	{0x12eb,0x14},
	{0x12ec,0xa8},
	{0x12ed,0x63},
	{0x12ee,0x10},
	{0x12ef,0x07},
	{0x12f0,0x03},
	{0x12f1,0xff},
	{0x12f2,0xff},
	{0x12f3,0xbe},
	{0x12f4,0x15},
	{0x12f5,0x00},
	{0x12f6,0x00},
	{0x12f7,0x00},
	{0x12f8,0x0c},
	{0x12f9,0x00},
	{0x12fa,0x00},
	{0x12fb,0x1f},
	{0x12fc,0xbc},
	{0x12fd,0x44},
	{0x12fe,0x00},
	{0x12ff,0xd9},
	{0x1300,0x10},
	{0x1301,0x00},
	{0x1302,0x00},
	{0x1303,0x34},
	{0x1304,0xbc},
	{0x1305,0x44},
	{0x1306,0x01},
	{0x1307,0x2f},
	{0x1308,0xb8},
	{0x1309,0x63},
	{0x130a,0x00},
	{0x130b,0x08},
	{0x130c,0x9c},
	{0x130d,0x80},
	{0x130e,0x00},
	{0x130f,0xa3},
	{0x1310,0x03},
	{0x1311,0xff},
	{0x1312,0xff},
	{0x1313,0xc6},
	{0x1314,0x9d},
	{0x1315,0x80},
	{0x1316,0x00},
	{0x1317,0x03},
	{0x1318,0x18},
	{0x1319,0xa0},
	{0x131a,0x80},
	{0x131b,0x14},
	{0x131c,0xa8},
	{0x131d,0x65},
	{0x131e,0x00},
	{0x131f,0x2a},
	{0x1320,0x8c},
	{0x1321,0x63},
	{0x1322,0x00},
	{0x1323,0x00},
	{0x1324,0xbc},
	{0x1325,0xa3},
	{0x1326,0x00},
	{0x1327,0x07},
	{0x1328,0x10},
	{0x1329,0x00},
	{0x132a,0x00},
	{0x132b,0x0b},
	{0x132c,0x18},
	{0x132d,0x80},
	{0x132e,0x80},
	{0x132f,0x21},
	{0x1330,0x18},
	{0x1331,0x60},
	{0x1332,0x80},
	{0x1333,0x21},
	{0x1334,0x9c},
	{0x1335,0xa0},
	{0x1336,0x00},
	{0x1337,0x07},
	{0x1338,0xa8},
	{0x1339,0x83},
	{0x133a,0x11},
	{0x133b,0x0a},
	{0x133c,0x9c},
	{0x133d,0xe0},
	{0x133e,0xff},
	{0x133f,0xff},
	{0x1340,0xa8},
	{0x1341,0x63},
	{0x1342,0x11},
	{0x1343,0x0b},
	{0x1344,0xd8},
	{0x1345,0x04},
	{0x1346,0x28},
	{0x1347,0x00},
	{0x1348,0xd8},
	{0x1349,0x03},
	{0x134a,0x38},
	{0x134b,0x00},
	{0x134c,0x03},
	{0x134d,0xff},
	{0x134e,0xff},
	{0x134f,0x46},
	{0x1350,0x18},
	{0x1351,0x60},
	{0x1352,0x80},
	{0x1353,0x80},
	{0x1354,0xa8},
	{0x1355,0xc5},
	{0x1356,0x00},
	{0x1357,0x2b},
	{0x1358,0xa8},
	{0x1359,0xa4},
	{0x135a,0x11},
	{0x135b,0x0a},
	{0x135c,0xd8},
	{0x135d,0x05},
	{0x135e,0x18},
	{0x135f,0x00},
	{0x1360,0xa8},
	{0x1361,0x84},
	{0x1362,0x11},
	{0x1363,0x0b},
	{0x1364,0x8c},
	{0x1365,0x66},
	{0x1366,0x00},
	{0x1367,0x00},
	{0x1368,0xd8},
	{0x1369,0x04},
	{0x136a,0x18},
	{0x136b,0x00},
	{0x136c,0x03},
	{0x136d,0xff},
	{0x136e,0xff},
	{0x136f,0x3e},
	{0x1370,0x18},
	{0x1371,0x60},
	{0x1372,0x80},
	{0x1373,0x80},
	{0x1374,0xb8},
	{0x1375,0x63},
	{0x1376,0x00},
	{0x1377,0x08},
	{0x1378,0x9c},
	{0x1379,0x80},
	{0x137a,0x00},
	{0x137b,0x76},
	{0x137c,0x03},
	{0x137d,0xff},
	{0x137e,0xff},
	{0x137f,0xab},
	{0x1380,0x9d},
	{0x1381,0x80},
	{0x1382,0x00},
	{0x1383,0x02},
	{0x1384,0x18},
	{0x1385,0x60},
	{0x1386,0x00},
	{0x1387,0x14},
	{0x1388,0xa8},
	{0x1389,0x63},
	{0x138a,0x10},
	{0x138b,0x04},
	{0x138c,0x8c},
	{0x138d,0x83},
	{0x138e,0x00},
	{0x138f,0x00},
	{0x1390,0x18},
	{0x1391,0x60},
	{0x1392,0x00},
	{0x1393,0x14},
	{0x1394,0xa8},
	{0x1395,0x63},
	{0x1396,0x10},
	{0x1397,0x05},
	{0x1398,0x03},
	{0x1399,0xff},
	{0x139a,0xff},
	{0x139b,0x94},
	{0x139c,0x15},
	{0x139d,0x00},
	{0x139e,0x00},
	{0x139f,0x00},
	{0x13a0,0x13},
	{0x13a1,0xff},
	{0x13a2,0xff},
	{0x13a3,0x6d},
	{0x13a4,0xe4},
	{0x13a5,0xb3},
	{0x13a6,0x38},
	{0x13a7,0x00},
	{0x13a8,0x03},
	{0x13a9,0xff},
	{0x13aa,0xff},
	{0x13ab,0x5a},
	{0x13ac,0x15},
	{0x13ad,0x00},
	{0x13ae,0x00},
	{0x13af,0x00},
	{0x13b0,0xa8},
	{0x13b1,0x83},
	{0x13b2,0x00},
	{0x13b3,0x83},
	{0x13b4,0xa8},
	{0x13b5,0xa3},
	{0x13b6,0x01},
	{0x13b7,0x9c},
	{0x13b8,0x8c},
	{0x13b9,0x64},
	{0x13ba,0x00},
	{0x13bb,0x00},
	{0x13bc,0xe0},
	{0x13bd,0x63},
	{0x13be,0x38},
	{0x13bf,0x04},
	{0x13c0,0xd8},
	{0x13c1,0x04},
	{0x13c2,0x18},
	{0x13c3,0x00},
	{0x13c4,0x8c},
	{0x13c5,0x65},
	{0x13c6,0x00},
	{0x13c7,0x00},
	{0x13c8,0x03},
	{0x13c9,0xff},
	{0x13ca,0xff},
	{0x13cb,0x5f},
	{0x13cc,0xa8},
	{0x13cd,0x63},
	{0x13ce,0x00},
	{0x13cf,0x10},
	{0x13d0,0x0c},
	{0x13d1,0x00},
	{0x13d2,0x00},
	{0x13d3,0x0f},
	{0x13d4,0xbc},
	{0x13d5,0x44},
	{0x13d6,0x01},
	{0x13d7,0xb5},
	{0x13d8,0x10},
	{0x13d9,0x00},
	{0x13da,0x00},
	{0x13db,0x11},
	{0x13dc,0xbc},
	{0x13dd,0x44},
	{0x13de,0x02},
	{0x13df,0x59},
	{0x13e0,0xb8},
	{0x13e1,0x63},
	{0x13e2,0x00},
	{0x13e3,0x08},
	{0x13e4,0x9c},
	{0x13e5,0x80},
	{0x13e6,0x01},
	{0x13e7,0x30},
	{0x13e8,0x03},
	{0x13e9,0xff},
	{0x13ea,0xff},
	{0x13eb,0x90},
	{0x13ec,0x9d},
	{0x13ed,0x80},
	{0x13ee,0x00},
	{0x13ef,0x05},
	{0x13f0,0x18},
	{0x13f1,0x60},
	{0x13f2,0x00},
	{0x13f3,0x14},
	{0x13f4,0xa8},
	{0x13f5,0x63},
	{0x13f6,0x10},
	{0x13f7,0x08},
	{0x13f8,0x8c},
	{0x13f9,0x83},
	{0x13fa,0x00},
	{0x13fb,0x00},
	{0x13fc,0x18},
	{0x13fd,0x60},
	{0x13fe,0x00},
	{0x13ff,0x14},
	{0x1400,0xa8},
	{0x1401,0x63},
	{0x1402,0x10},
	{0x1403,0x09},
	{0x1404,0x03},
	{0x1405,0xff},
	{0x1406,0xff},
	{0x1407,0x79},
	{0x1408,0x15},
	{0x1409,0x00},
	{0x140a,0x00},
	{0x140b,0x00},
	{0x140c,0xb8},
	{0x140d,0x63},
	{0x140e,0x00},
	{0x140f,0x08},
	{0x1410,0x9c},
	{0x1411,0x80},
	{0x1412,0x00},
	{0x1413,0xda},
	{0x1414,0x03},
	{0x1415,0xff},
	{0x1416,0xff},
	{0x1417,0x85},
	{0x1418,0x9d},
	{0x1419,0x80},
	{0x141a,0x00},
	{0x141b,0x04},
	{0x141c,0x10},
	{0x141d,0x00},
	{0x141e,0x00},
	{0x141f,0x06},
	{0x1420,0xbc},
	{0x1421,0x44},
	{0x1422,0x03},
	{0x1423,0x52},
	{0x1424,0xb8},
	{0x1425,0x63},
	{0x1426,0x00},
	{0x1427,0x08},
	{0x1428,0x9c},
	{0x1429,0x80},
	{0x142a,0x01},
	{0x142b,0xb6},
	{0x142c,0x03},
	{0x142d,0xff},
	{0x142e,0xff},
	{0x142f,0x7f},
	{0x1430,0x9d},
	{0x1431,0x80},
	{0x1432,0x00},
	{0x1433,0x06},
	{0x1434,0x10},
	{0x1435,0x00},
	{0x1436,0x00},
	{0x1437,0x06},
	{0x1438,0x15},
	{0x1439,0x00},
	{0x143a,0x00},
	{0x143b,0x00},
	{0x143c,0xb8},
	{0x143d,0x63},
	{0x143e,0x00},
	{0x143f,0x08},
	{0x1440,0x9c},
	{0x1441,0x80},
	{0x1442,0x02},
	{0x1443,0x5a},
	{0x1444,0x03},
	{0x1445,0xff},
	{0x1446,0xff},
	{0x1447,0x79},
	{0x1448,0x9d},
	{0x1449,0x80},
	{0x144a,0x00},
	{0x144b,0x07},
	{0x144c,0xb8},
	{0x144d,0x63},
	{0x144e,0x00},
	{0x144f,0x08},
	{0x1450,0x9c},
	{0x1451,0x80},
	{0x1452,0x03},
	{0x1453,0x53},
	{0x1454,0x03},
	{0x1455,0xff},
	{0x1456,0xff},
	{0x1457,0x75},
	{0x1458,0x9d},
	{0x1459,0x80},
	{0x145a,0x00},
	{0x145b,0x08},
	{0x145c,0x85},
	{0x145d,0x21},
	{0x145e,0x00},
	{0x145f,0x00},
	{0x1460,0x85},
	{0x1461,0x41},
	{0x1462,0x00},
	{0x1463,0x04},
	{0x1464,0x85},
	{0x1465,0x81},
	{0x1466,0x00},
	{0x1467,0x08},
	{0x1468,0x85},
	{0x1469,0xc1},
	{0x146a,0x00},
	{0x146b,0x0c},
	{0x146c,0x44},
	{0x146d,0x00},
	{0x146e,0x48},
	{0x146f,0x00},
	{0x1470,0x9c},
	{0x1471,0x21},
	{0x1472,0x00},
	{0x1473,0x10},
	{0x1474,0x9c},
	{0x1475,0x21},
	{0x1476,0xff},
	{0x1477,0xe4},
	{0x1478,0xd4},
	{0x1479,0x01},
	{0x147a,0x48},
	{0x147b,0x00},
	{0x147c,0xd4},
	{0x147d,0x01},
	{0x147e,0x50},
	{0x147f,0x04},
	{0x1480,0xd4},
	{0x1481,0x01},
	{0x1482,0x60},
	{0x1483,0x08},
	{0x1484,0xd4},
	{0x1485,0x01},
	{0x1486,0x70},
	{0x1487,0x0c},
	{0x1488,0xd4},
	{0x1489,0x01},
	{0x148a,0x80},
	{0x148b,0x10},
	{0x148c,0xd4},
	{0x148d,0x01},
	{0x148e,0x90},
	{0x148f,0x14},
	{0x1490,0x1a},
	{0x1491,0x00},
	{0x1492,0x00},
	{0x1493,0x14},
	{0x1494,0xaa},
	{0x1495,0x10},
	{0x1496,0x00},
	{0x1497,0x18},
	{0x1498,0x9c},
	{0x1499,0xa0},
	{0x149a,0xff},
	{0x149b,0xfc},
	{0x149c,0x84},
	{0x149d,0x70},
	{0x149e,0x00},
	{0x149f,0x00},
	{0x14a0,0x9d},
	{0x14a1,0x40},
	{0x14a2,0x00},
	{0x14a3,0x00},
	{0x14a4,0x84},
	{0x14a5,0x63},
	{0x14a6,0x00},
	{0x14a7,0x04},
	{0x14a8,0xb8},
	{0x14a9,0x83},
	{0x14aa,0x00},
	{0x14ab,0x44},
	{0x14ac,0xb8},
	{0x14ad,0x63},
	{0x14ae,0x00},
	{0x14af,0x4c},
	{0x14b0,0xe0},
	{0x14b1,0x84},
	{0x14b2,0x28},
	{0x14b3,0x03},
	{0x14b4,0xd8},
	{0x14b5,0x01},
	{0x14b6,0x18},
	{0x14b7,0x18},
	{0x14b8,0xd8},
	{0x14b9,0x01},
	{0x14ba,0x20},
	{0x14bb,0x19},
	{0x14bc,0x84},
	{0x14bd,0xb0},
	{0x14be,0x00},
	{0x14bf,0x00},
	{0x14c0,0xe1},
	{0x14c1,0x8a},
	{0x14c2,0x50},
	{0x14c3,0x00},
	{0x14c4,0xe0},
	{0x14c5,0xcc},
	{0x14c6,0x28},
	{0x14c7,0x00},
	{0x14c8,0x94},
	{0x14c9,0x66},
	{0x14ca,0x00},
	{0x14cb,0x28},
	{0x14cc,0xa4},
	{0x14cd,0x83},
	{0x14ce,0xff},
	{0x14cf,0xff},
	{0x14d0,0xbc},
	{0x14d1,0x24},
	{0x14d2,0x00},
	{0x14d3,0x00},
	{0x14d4,0x0c},
	{0x14d5,0x00},
	{0x14d6,0x00},
	{0x14d7,0x22},
	{0x14d8,0x9e},
	{0x14d9,0x41},
	{0x14da,0x00},
	{0x14db,0x18},
	{0x14dc,0x00},
	{0x14dd,0x00},
	{0x14de,0x00},
	{0x14df,0x0a},
	{0x14e0,0xac},
	{0x14e1,0xe3},
	{0x14e2,0x00},
	{0x14e3,0xff},
	{0x14e4,0x84},
	{0x14e5,0xb0},
	{0x14e6,0x00},
	{0x14e7,0x00},
	{0x14e8,0xe0},
	{0x14e9,0xcc},
	{0x14ea,0x28},
	{0x14eb,0x00},
	{0x14ec,0x94},
	{0x14ed,0x66},
	{0x14ee,0x00},
	{0x14ef,0x28},
	{0x14f0,0xa4},
	{0x14f1,0x83},
	{0x14f2,0xff},
	{0x14f3,0xff},
	{0x14f4,0xbc},
	{0x14f5,0x24},
	{0x14f6,0x00},
	{0x14f7,0x00},
	{0x14f8,0x0c},
	{0x14f9,0x00},
	{0x14fa,0x00},
	{0x14fb,0x19},
	{0x14fc,0x9e},
	{0x14fd,0x41},
	{0x14fe,0x00},
	{0x14ff,0x18},
	{0x1500,0xac},
	{0x1501,0xe3},
	{0x1502,0x00},
	{0x1503,0xff},
	{0x1504,0xbc},
	{0x1505,0x04},
	{0x1506,0x00},
	{0x1507,0xff},
	{0x1508,0x10},
	{0x1509,0x00},
	{0x150a,0x00},
	{0x150b,0x0f},
	{0x150c,0xe1},
	{0x150d,0xd2},
	{0x150e,0x50},
	{0x150f,0x00},
	{0x1510,0x8c},
	{0x1511,0x6e},
	{0x1512,0x00},
	{0x1513,0x00},
	{0x1514,0xe0},
	{0x1515,0x63},
	{0x1516,0x38},
	{0x1517,0x03},
	{0x1518,0xd8},
	{0x1519,0x0e},
	{0x151a,0x18},
	{0x151b,0x00},
	{0x151c,0x8c},
	{0x151d,0x85},
	{0x151e,0x00},
	{0x151f,0x1f},
	{0x1520,0x07},
	{0x1521,0xfb},
	{0x1522,0x24},
	{0x1523,0x05},
	{0x1524,0x94},
	{0x1525,0x66},
	{0x1526,0x00},
	{0x1527,0x20},
	{0x1528,0x84},
	{0x1529,0xb0},
	{0x152a,0x00},
	{0x152b,0x00},
	{0x152c,0x8c},
	{0x152d,0x8e},
	{0x152e,0x00},
	{0x152f,0x00},
	{0x1530,0xe0},
	{0x1531,0x6c},
	{0x1532,0x28},
	{0x1533,0x00},
	{0x1534,0x8c},
	{0x1535,0x63},
	{0x1536,0x00},
	{0x1537,0x29},
	{0x1538,0xe1},
	{0x1539,0x6b},
	{0x153a,0x18},
	{0x153b,0x03},
	{0x153c,0xe1},
	{0x153d,0x64},
	{0x153e,0x58},
	{0x153f,0x04},
	{0x1540,0xd8},
	{0x1541,0x0e},
	{0x1542,0x58},
	{0x1543,0x00},
	{0x1544,0xe0},
	{0x1545,0x6c},
	{0x1546,0x28},
	{0x1547,0x00},
	{0x1548,0xe0},
	{0x1549,0x92},
	{0x154a,0x50},
	{0x154b,0x00},
	{0x154c,0x94},
	{0x154d,0x63},
	{0x154e,0x00},
	{0x154f,0x20},
	{0x1550,0x8c},
	{0x1551,0x84},
	{0x1552,0x00},
	{0x1553,0x00},
	{0x1554,0x07},
	{0x1555,0xfb},
	{0x1556,0x22},
	{0x1557,0x39},
	{0x1558,0x8c},
	{0x1559,0xa5},
	{0x155a,0x00},
	{0x155b,0x1f},
	{0x155c,0x9d},
	{0x155d,0x4a},
	{0x155e,0x00},
	{0x155f,0x01},
	{0x1560,0xbd},
	{0x1561,0x4a},
	{0x1562,0x00},
	{0x1563,0x01},
	{0x1564,0x0f},
	{0x1565,0xff},
	{0x1566,0xff},
	{0x1567,0xe0},
	{0x1568,0xe1},
	{0x1569,0x8a},
	{0x156a,0x50},
	{0x156b,0x00},
	{0x156c,0x85},
	{0x156d,0x21},
	{0x156e,0x00},
	{0x156f,0x00},
	{0x1570,0x85},
	{0x1571,0x41},
	{0x1572,0x00},
	{0x1573,0x04},
	{0x1574,0x85},
	{0x1575,0x81},
	{0x1576,0x00},
	{0x1577,0x08},
	{0x1578,0x85},
	{0x1579,0xc1},
	{0x157a,0x00},
	{0x157b,0x0c},
	{0x157c,0x86},
	{0x157d,0x01},
	{0x157e,0x00},
	{0x157f,0x10},
	{0x1580,0x86},
	{0x1581,0x41},
	{0x1582,0x00},
	{0x1583,0x14},
	{0x1584,0x44},
	{0x1585,0x00},
	{0x1586,0x48},
	{0x1587,0x00},
	{0x1588,0x9c},
	{0x1589,0x21},
	{0x158a,0x00},
	{0x158b,0x1c},

	{0x1ff4,0x00},
	{0x1ff5,0x00},
	{0x1ff6,0x00},
	{0x1ff7,0x20},     // separate patch on/off
	{0x1f94,0x00},
	{0x1f95,0x14},
	{0x1f96,0x14},
	{0x1f97,0x74},     // write exposure patch address
	{0x1f98,0x00},
	{0x1f99,0x14},
	{0x1f9a,0x10},
	{0x1f9b,0x14},     // write gain patch address


	{0xfffe,0x80},
	{0x000e,0x54},     // patch on/off


	{0x012c,0x00},
	{0x012d,0x00},//clivia tmp 0x01},
	{0x013c,0x00},
	{0x013d,0x00},
	{0x013e,0x31},
	{0x013f,0x10},
	{0x0124,0x40},
	{0x0126,0x02},

	{0xfffe,0x14}, //UV adjust
	{0x1000,0x50},
	{0x1001,0x50},

	{0x1002,0x48},
	{0x1003,0x48},

	{0x1004,0x40},
	{0x1005,0x40},

	{0x1006,0x30},
	{0x1007,0x30},

	{0x1008,0x20},
	{0x1009,0x20},
	{0x100a,0x00},
	{0x100b,0x2f},     // gainlist1
	{0x100c,0x00},
	{0x100d,0x4f},     // gainlist2
	{0x100e,0x00},
	{0x100f,0x5f},     // gainlist3
	{0x1010,0x00},
	{0x1011,0x6f},     // gainlist4

	{0xfffd,0x80},
	{0xfffe,0x21},


	{0xfffd,0x80},
	{0xfffe,0x21},
	{0x0680,0x00},
	{0x0681,0x00},
	{0x0682,0x00},
	{0x0683,0x00},
	{0x0684,0x02},
	{0x0685,0x80},
	{0x0686,0x01},
	{0x0687,0xe0},

{0x0688,0x11},   // by lzw
{0x0689,0x11},
{0x068a,0x11},
{0x068b,0x11},
{0x068c,0x11},
{0x068d,0x11},
{0x068e,0x11},
{0x068f,0x11},
{0x0690,0x03},


{0xfffd,0x80},
{0xfffe,0x80},
{0x004d,0x00},
{0x0090,0x28},

{0xfffe,0x14},
{0x0022,0x00},
{0x0002,0x00},
{0x003d,0x80},
{0x0037,0x2f}, //
{0x003f,0x00},
{0x003e,0x78},
{0x0070,0x02},
{0x0040,0x00},
{0x0041,0x03},
{0x0042,0x00},
{0x0043,0x04},
{0x0044,0x00},
{0x0045,0x00},
{0x0046,0x00},
{0x0047,0x00},
{0x0050,0x00},
{0x0051,0x07},
{0x0052,0x00},
{0x0053,0x08},
{0x0054,0x00},
{0x0055,0x00},
{0x0056,0x00},
{0x0057,0x00},
{0x0060,0x00},
{0x0061,0xb6},
{0x0062,0x00},
{0x0063,0xb1},
{0x0064,0x00},
{0x0065,0xb2},
{0x0066,0x00},
{0x0067,0x00},
{0x007a,0x09},
{0x007b,0xa0},
{0x007c,0x00},

{0x0086,0x20},
{0x0088,0x14},
{0x0089,0x14},
{0x008a,0x10},
{0x008c,0x08},
{0x008e,0x3a},
{0x008f,0x00},
{0x0094,0x0E},
{0x0095,0x00},


{0xfffe,0x21},
{0x0000,0xd7},
{0x0001,0x80},
{0x0402,0x20},
{0x0403,0x40},
{0xfffe,0x21}, //LENC start 85%
{0x0800,0x22},
{0x0801,0xe },
{0x0802,0x8 },
{0x0803,0x8 },
{0x0804,0xf },
{0x0805,0x24},
{0x0806,0x3 },
{0x0807,0x4 },
{0x0808,0x5 },
{0x0809,0x5 },
{0x080a,0x3 },
{0x080b,0x3 },
{0x080c,0x6 },
{0x080d,0x3 },
{0x080e,0x1 },
{0x080f,0x0 },
{0x0810,0x2 },
{0x0811,0x3 },
{0x0812,0x6 },
{0x0813,0x3 },
{0x0814,0x0 },
{0x0815,0x0 },
{0x0816,0x1 },
{0x0817,0x4 },
{0x0818,0x3 },
{0x0819,0x3 },
{0x081a,0x4 },
{0x081b,0x4 },
{0x081c,0x3 },
{0x081d,0x1 },
{0x081e,0x14},
{0x081f,0x8 },
{0x0820,0x4 },
{0x0821,0x4 },
{0x0822,0x9 },
{0x0823,0x16},
{0x0824,0x50},
{0x0825,0x32},
{0x0826,0x32},
{0x0827,0x32},
{0x0828,0x52},
{0x082a,0x32},
{0x082b,0x10},
{0x082c,0x10},
{0x082d,0x10},
{0x082e,0x30},
{0x0830,0x10},
{0x0831,0x10},
{0x0832,0x12},
{0x0833,0x12},
{0x0834,0x50},
{0x0836,0x32},
{0x0837,0x10},
{0x0838,0x10},
{0x0839,0x12},
{0x083a,0x32},
{0x083c,0x30},
{0x083d,0x32},
{0x083e,0x32},
{0x083f,0x30},
{0x0840,0x50},
{0x0848,0xfe},

{0x084a,0x88},
{0x084d,0x0},
{0x084e,0x99},
{0x084f,0x1},
{0x0850,0x11},
{0x0851,0x0},
{0x0852,0xCC},
{0x0853,0x0},
{0x0854,0xB6},

{0xfffe,0x14}, //AWB_init
{0x02b3,0x01},
{0x02b6,0x06},
{0x02b7,0x00}, //B
{0x02ba,0x04},
{0x02bb,0x00}, //Gb
{0x02be,0x04},
{0x02bd,0x00}, //Gr
{0x02c2,0x04},
{0x02c3,0x04}, //R
{0x030a,0x05},
{0x030b,0x00}, //B_buff
{0x030c,0x04},
{0x030d,0x00}, //G_buff
{0x030e,0x04},
{0x030f,0xa0}, //R_buff


{0xfffe,0x14},   //C_AWB
{0x0000,0x01},
{0x0001,0x01},

{0x02b0,0x00},
{0x02b2,0x01},
{0x02d4,0x00},
{0x02d5,0x10},
{0x02d6,0x0d},
{0x02d7,0xff},
{0xfffe,0x21},
{0x0091,0xb0},
{0x0092,0x10},
{0x0001,0x80},
{0x0003,0xb1},
{0x0051,0x03},
{0x0096,0x83},
{0x019c,0x1a},//clivia 0x0a},
{0x0019,0x48},
{0x019b,0x00},
{0x0580,0x08},
{0x0581,0x50},
{0x0582,0x50},

{0xfffe,0x31},
{0x01b0,0x4a},
{0x01b1,0x64},
{0x01b2,0x40},
{0x01b3,0x66},
{0x01b4,0x35}, //0716
{0x01b5,0x4b},
{0x01b6,0x52},
{0x01b7,0x72},
{0x01b8,0x5d},
{0x01b9,0x7d},
{0x01ba,0x42},
{0x01bb,0x41},
{0x01bc,0x00},
{0x01bd,0x00},
{0x01be,0x00},
{0x01bf,0x00},
{0x01c0,0x00},
{0x01c1,0x00},
{0x01c2,0x00},
{0x01c3,0x00},
{0x01c4,0x00},
{0x01c5,0x00},
{0x01c6,0x00},
{0x01c7,0x00},
{0x01c8,0x00},
{0x01c9,0x00},
{0x01ca,0x00},
{0x01cb,0x00},
{0x01cc,0x00},
{0x01cd,0x00},
{0x01ce,0x00},
{0x01cf,0x00},
{0x01d0,0x00},
{0x01d1,0x00},
{0x01d2,0x00},
{0x01d3,0x00},
{0x01d4,0x00},
{0x01d5,0x00},
{0x01d6,0x00},
{0x01d7,0x00},
{0x01d8,0x00},
{0x01d9,0x00},
{0x01da,0x00},
{0x01db,0x00},
{0x01dc,0x00},
{0x01dd,0x00},
{0x01de,0x00},
{0x01df,0x00},
{0x01e0,0x00},
{0x01e1,0x00},
{0x01e2,0x00},
{0x01e3,0x00},
{0x01e4,0x00},
{0x01e5,0x00},
{0x01e6,0x00},
{0x01e7,0x00},
{0x01e8,0x00},
{0x01e9,0x00},
{0x01ea,0x00},
{0x01eb,0x00},
{0x01ec,0x00},
{0x01ed,0x00},
{0x01ee,0x00},
{0x01ef,0x00},
{0x01f0,0x22},
{0x01f1,0x10},
{0x01f2,0x00},
{0x01f3,0x00},
{0x01f4,0x00},
{0x01f5,0x00},
{0x01f6,0x00},
{0x01f7,0x00},


{0xfffe,0x14}, //AWB_init
{0x02b3,0x00},

{0xfffd,0x80},
{0xfffe,0x21},
{0x0480,0xf },
{0x0481,0x16},
{0x0482,0x25},
{0x0483,0x41},
{0x0484,0x4e},
{0x0485,0x5b},
{0x0486,0x67},
{0x0487,0x72},
{0x0488,0x7c},
{0x0489,0x85},
{0x048a,0x96},
{0x048b,0xa4},
{0x048c,0xba},
{0x048d,0xcb},
{0x048e,0xd7},
{0x048f,0x00},

{0xFFFD,0x80},
{0xFFFE,0x21},
	/*{0x0d00,0x00},
	  {0x0d01,0xB7},
	  {0x0d02,0x01},
	  {0x0d03,0x07},
	  {0x0d04,0x00},
	  {0x0d05,0x67},
	  {0x0d06,0x00},
	  {0x0d07,0x40},
	  {0x0d08,0x01},
	  {0x0d09,0x12},
	  {0x0d0a,0x00},
	  {0x0d0b,0x3C},
	  {0x0d0c,0x02},
	  {0x0d0d,0x56},
	  {0x0d0e,0x01},
	  {0x0d0f,0x7D},
	  {0x0d10,0x00},
	  {0x0d11,0xF2},
	  {0x0d12,0x00},
	  {0x0d13,0x63},
	  {0x0d14,0x00},
	  {0x0d15,0x48},
	  {0x0d16,0x00},
	  {0x0d17,0x9C},
	  {0x0d18,0x01},
	  {0x0d19,0xB2},
	  {0x0d1a,0x00},
	  {0x0d1b,0xDE},
	  {0x0d1c,0x00},
	  {0x0d1d,0x8C},
	  {0x0d1e,0x00},
	  {0x0d1f,0x44},
	  {0x0d20,0x01},
	  {0x0d21,0x60},
	  {0x0d22,0x00},
	  {0x0d23,0x7C},
	  {0x0d2e,0x05},
	  {0x0d2f,0x0B},
	  {0x0d30,0x08},
	  {0x0d31,0x03},
	  {0x0d28,0x0},
	  {0x0d29,0x5D},
	  {0x0d2A,0x0},
	  {0x0d2B,0x9F},
	  {0x0d2C,0x0},
	  {0x0d2D,0xEF},
	  */

{0xfffd,0x80},  //CIP start
{0xfffe,0x21},
{0x0301,0x10},
{0x0303,0x5f},
{0x0304,0x00},
{0x0305,0x80},
{0x0306,0x03},
{0x0307,0x00},
{0x0308,0x30},
{0x0309,0x00},
{0x030a,0x03},
{0x030b,0x02},
{0x030c,0x04},
{0x030d,0x08},
{0x030e,0x18},
{0x030f,0xc0},
{0x0310,0x20},
{0x0311,0xff},
{0x0312,0x80},
{0x0313,0x10},
{0x0314,0x08},
{0x0315,0x3f},
{0x0317,0x06},
{0x0318,0x00},
{0x0319,0x1f}, //CIP end


{0x031a,0x00},
{0x031b,0x80},
{0x031c,0x00},
{0x031d,0x20}, //denoise
{0x031e,0x04},
{0x031f,0x04},
{0x0320,0x20},
{0x0321,0x20},   //CIP end
#endif

	{AW6120_REG_END, 0x00},	/* END MARKER */

};

static struct regval_list AW6120_pre_and_gc1004_regs[] = {
	{0xfffd,0x80}, //GC1004 VGA 60fps
	{0xfffe,0x80},
	{0x0004,0x00},
	{0xfffd,0x80},
	{0xfffe,0x14},
	{0x1c00,0x55},

	{0x1c01,0xfe},
	{0x1C02,0x80},
	{0x1C03,0xfe},
	{0x1C04,0x80},
	{0x1C05,0xfe},
	{0x1C06,0x80},
	{0x1C07,0xf2},
	{0x1C08,0x00},
	{0x1C09,0xf6},
	{0x1C0A,0x00},
	{0x1C0B,0xfc},
	{0x1C0C,0xc6},
	{0x1C0D,0xf7},
	{0x1C0E,0x33},
	{0x1C0F,0xf8},
	{0x1C10,0x08},
	{0x1C11,0xf9},
	{0x1C12,0x2e},
	{0x1C13,0xfa},
	{0x1C14,0x00},
	{0x1C15,0xfe},
	{0x1C16,0x00},
	{0x1C17,0x03},
	{0x1C18,0x01},
	{0x1C19,0x04},
	{0x1C1A,0x00},

	{0x1C1B,0x05},
	{0x1C1C,0x03},
	{0x1C1D,0x06},
	{0x1C1E,0x49},
	{0x1C1F,0x07},
	{0x1C20,0x03},
	{0x1C21,0x0a},
	{0x1C22,0x50},
	{0x1C23,0x0d},
	{0x1C24,0x01},
	{0x1C25,0x0e},
	{0x1C26,0xf8},
	{0x1C27,0x0f},
	{0x1C28,0x02},
	{0x1C29,0x10},
	{0x1C2A,0x90},
	{0x1C2B,0x11},
	{0x1C2C,0x00},
	{0x1C2D,0x12},
	{0x1C2E,0x18},
	{0x1C2F,0x17},
	{0x1C30,0x14},
	{0x1C31,0x18},
	{0x1C32,0x02},
	{0x1C33,0x19},
	{0x1C34,0x06},
	{0x1C35,0x1a},
	{0x1C36,0x01},
	{0x1C37,0x1b},
	{0x1C38,0x4f},
	{0x1C39,0x1c},
	{0x1C3A,0x21},
	{0x1C3B,0x1d},
	{0x1C3C,0xe0},
	{0x1C3D,0x1e},
	{0x1C3E,0x7c},
	{0x1C3F,0x1f},
	{0x1C40,0x08},
	{0x1C41,0x20},
	{0x1C42,0xa9},
	{0x1C43,0x21},
	{0x1C44,0x0f},
	{0x1C45,0x22},
	{0x1C46,0xb0},
	{0x1C47,0x23},
	{0x1C48,0x32},
	{0x1C49,0x24},
	{0x1C4A,0x2f},
	{0x1C4B,0x2a},
	{0x1C4C,0x00},
	{0x1C4D,0x2c},
	{0x1C4E,0xc0},
	{0x1C4F,0x2d},
	{0x1C50,0x0f},
	{0x1C51,0x2e},
	{0x1C52,0xf0},
	{0x1C53,0x2f},
	{0x1C54,0x1f},
	{0x1C55,0x25},
	{0x1C56,0xc0},
	{0x1C57,0x36},
	{0x1C58,0x0b},
	{0x1C59,0x37},
	{0x1C5A,0x13},
	{0x1C5B,0x38},
	{0x1C5C,0x1b},
	{0x1C5D,0xfe},
	{0x1C5E,0x00},
	{0x1C5F,0x8a},
	{0x1C60,0x00},
	{0x1C61,0x8c},
	{0x1C62,0x07},
	{0x1C63,0x8e},
	{0x1C64,0x02},
	{0x1C65,0x90},
	{0x1C66,0x01},
	{0x1C67,0x94},
	{0x1C68,0x09},
	{0x1C69,0x95},
	{0x1C6A,0x01},
	{0x1C6B,0x96},
	{0x1C6C,0xe0},
	{0x1C6D,0x97},
	{0x1C6E,0x02},
	{0x1C6F,0x98},
	{0x1C70,0x80},
	{0x1C71,0xfe},
	{0x1C72,0x00},
	{0x1C73,0x40},
	{0x1C74,0x23},
	{0x1C75,0x5e},
	{0x1C76,0x00},
	{0x1C77,0x66},
	{0x1C78,0x20},
	{0x1C79,0xfe},
	{0x1C7A,0x02},
	{0x1C7B,0x49},
	{0x1C7C,0x23},
	{0x1C7D,0xa4},
	{0x1C7E,0x00},
	{0x1C7F,0xfe},
	{0x1C80,0x00},
	{0x1C81,0xb0},
	{0x1C82,0x50},
	{0x1C83,0xb3},
	{0x1C84,0x40},
	{0x1C85,0xb4},
	{0x1C86,0x40},
	{0x1C87,0xb5},
	{0x1C88,0x40},
	{0x1C89,0xfe},
	{0x1C8A,0x00},
	{0x1C8B,0xb6},
	{0x1C8C,0x01},
	{0x1C8D,0xfe},
	{0x1C8E,0x03},
	{0x1C8F,0x01},
	{0x1C90,0x07},
	{0x1C91,0x02},
	{0x1C92,0x33},
	{0x1C93,0x03},
	{0x1C94,0x13},
	{0x1C95,0x04},
	{0x1C96,0x10},
	{0x1C97,0x05},
	{0x1C98,0x00},
	{0x1C99,0x06},
	{0x1C9A,0xa4},
	{0x1C9B,0x11},
	{0x1C9C,0x2b},
	{0x1C9D,0x12},
	{0x1C9E,0x20},
	{0x1C9F,0x13},
	{0x1CA0,0x03},
	{0x1CA1,0x15},
	{0x1CA2,0x72},
	{0x1CA3,0x21},
	{0x1CA4,0x10},
	{0x1CA5,0x22},
	{0x1CA6,0x03},
	{0x1CA7,0x23},
	{0x1CA8,0x04},
	{0x1CA9,0x24},
	{0x1CAA,0x10},

	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x0007,0x78},
	{0x000d,0x30},
	{0x0009,0x00},
	{0x00c4,0x10},
	{0x00c0,0x01},


	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x0004,0x00},
	{0xfffd,0x80},
	{0xfffe,0x14},
	{0x1c00,0x0a},

	{0x1c01,0x29},
	{0x1C02,0x03},
	{0x1C03,0x2a},
	{0x1C04,0x04},
	{0x1C05,0x10},
	{0x1C06,0x91},
	{0x1C07,0xfe},
	{0x1C08,0x00},

	{0x1c09,0x09},
	{0x1C0a,0x00},
	{0x1C0b,0x0a},
	{0x1C0c,0x78},
	{0x1C0d,0x0b},
	{0x1C0e,0x01},
	{0x1C0f,0x0c},
	{0x1C10,0x40},

	{0x1C11,0xfe},
	{0x1C12,0x00},
	{0x1C13,0x92},
	{0x1C14,0x03},

	{0xfffd,0x80},
	{0xfffe,0x80},
	{0x0007,0x78},
	{0x000d,0x30},
	{0x0009,0x00},
	{0x00c4,0x10},
	{0x00c0,0x01},

	{0xfffe,0x14},
	{0x0022,0x00},
	{0x0002,0x01},
	/*   {0xfe,0x80},
		 {0xfe,0x80},
		 {0xfe,0x80},
		 {0xf2,0x00},//sync_pad_io_ebi
		 {0xf6,0x00},//up down
		 {0xfc,0xc6},
		 {0xf7,0x33},//pll enable
		 {0xf8,0x08},//Pll mode 2
		 {0xf9,0x2e},//[0] pll enable
		 {0xfa,0x00},//div
		 {0xfe,0x00},
		 {0x03,0x02},
		 {0x04,0xfa},
		 {0x05,0x01},
		 {0x06,0xa0},
		 {0x07,0x00},
		 {0x08,0x5a},
		 {0x0d,0x02},//height
		 {0x0e,0xe8},
		 {0x0f,0x05},//width
		 {0x10,0x10},
		 {0x11,0x00},
		 {0x12,0x0c},//sh_delay
		 {0x17,0x14},//01//14//[0]mirror [1]flip
		 {0x18,0x02},//sdark off
		 {0x19,0x06},
		 {0x1a,0x01},
		 {0x1b,0x4f},
		 {0x1c,0x21},
		 {0x1d,0xe0},
		 {0x1e,0x7c},
		 {0x1f,0x08},//08//comv_r
		 {0x20,0xa9},
		 {0x21,0x0f},//2
		 {0x22,0xb0},
		 {0x23,0x32},
		 {0x24,0x2f},//PAD drive
		 {0x2a,0x00},
		 {0x2c,0xc0},
		 {0x2d,0x0f},
		 {0x2e,0xf0},
		 {0x2f,0x1f},
		 {0x25,0xc0},
		 {0x36,0x0b},
		 {0x37,0x13},
		 {0x38,0x1b},
#if 1 //add by xu
{0xfe,0x00},
{0x8a,0x00},
{0x8c,0x07},
{0x8e,0x02},
{0x90,0x01},
{0x94,0x02},
{0x95,0x02},
{0x96,0xd0},
{0x97,0x05},
{0x98,0x00},
{0xfe,0x00},
{0x18,0x01},
{0x1a,0x01},
{0x40,0x23},
{0x5e,0x00},
{0x66,0x20},
{0xfe,0x02},
{0x40,0x37},
{0x49,0x23},
{0xa4,0x00},
{0xfe,0x00},
{0xb0,0x50},
{0xb3,0x40},
{0xb4,0x40},
{0xb5,0x40},
{0xfe,0x00},
{0xfe,0x03},
{0x01,0x07},
{0x02,0x33},
{0x03,0x93},
{0x04,0x01},
{0x05,0x00},
{0x06,0xa4},
{0x10,0x91},
{0x11,0x2b},
{0x12,0x40},
{0x13,0x06},
{0x15,0x72},
{0xfe,0x00},
#endif
	*/
{AW6120_REG_END, 0x00},	/* END MARKER */
	};

// isp check mipi rx whether there is data.
static struct regval_list AW6120_check_mipi_rx_regs[] = {
	{0xfffe, 0x26},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};
// read isp reg
static struct regval_list AW6120_check_mipi_rx_read_regs[] = {
	{0x0038, 0x00},
	{0x0039, 0x00},
	{0x003a, 0x00},
	{0x003b, 0x00},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

static struct regval_list AW6120_IIC_by_pass_regs[] = {
	{0xfffe, 0x80},
	{0x004d, 0x01},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

static struct regval_list AW6120_IIC_no_by_pass_regs[] = {
	{0xfffe, 0x80},
	{0x004d, 0x00},
	{AW6120_REG_END, 0x00},	/* END MARKER */
};

static struct AW6120_format_struct {
	enum v4l2_mbus_pixelcode mbus_code;
	enum v4l2_colorspace colorspace;
} AW6120_formats[] = {
	{
		/*YUYV FORMAT, 16 bit per pixel*/
		.mbus_code	= V4L2_MBUS_FMT_YUYV8_1X16,
		.colorspace	= V4L2_COLORSPACE_SRGB,
	},
	/*add other format supported*/
};
#define N_AW6120_FMTS ARRAY_SIZE(AW6120_formats)

static struct AW6120_win_setting {
	int	width;
	int	height;
	enum v4l2_mbus_pixelcode mbus_code;
	enum v4l2_colorspace colorspace;
	struct regval_list *regs; /* Regs to tweak */
} AW6120_win_sizes[] = {
	/* 1280*800 */
	{
		.width		= 640,//1280,
		.height		= 480,//720,
		.mbus_code	= V4L2_MBUS_FMT_YUYV8_1X16,
		.colorspace	= V4L2_COLORSPACE_SRGB,
		.regs 		= AW6120_init_720p_sensor_regs,
	}
};
#define N_WIN_SIZES (ARRAY_SIZE(AW6120_win_sizes))

int AW6120_read(struct v4l2_subdev *sd, unsigned short reg,
		unsigned char *value)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);
	unsigned char buf[2] = {reg >> 8, reg & 0xff};
	struct i2c_msg msg[2] = {
		[0] = {
			.addr	= client->addr,
			.flags	= 0,
			.len	= 2,
			.buf	= buf,
		},
		[1] = {
			.addr	= client->addr,
			.flags	= I2C_M_RD,
			.len	= 1,
			.buf	= value,
		}
	};
	int ret;

	ret = i2c_transfer(client->adapter, msg, 2);
	if (ret > 0)
		ret = 0;

	return ret;
}

int AW6120_read_sensor_reg(struct v4l2_subdev *sd, unsigned short reg,
		unsigned char *value)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);
	unsigned char buf[1] = {reg & 0xff};
	struct i2c_msg msg[2] = {
		[0] = {
			.addr	= GC1004_IIC_ADDR,
			.flags	= 0,
			.len	= 1,
			.buf	= buf,
		},
		[1] = {
			.addr	= GC1004_IIC_ADDR,
			.flags	= I2C_M_RD,
			.len	= 1,
			.buf	= value,
		}
	};
	int ret;

	ret = i2c_transfer(client->adapter, msg, 2);
	if (ret > 0)
		ret = 0;

	return ret;
}

static int AW6120_write_sensor_reg(struct v4l2_subdev *sd, unsigned short reg,
		unsigned char value)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);
	unsigned char buf[2] = {reg & 0xff, value};
	struct i2c_msg msg = {
		.addr	= GC1004_IIC_ADDR,
		.flags	= 0,
		.len	= 2,
		.buf	= buf,
	};
	int ret;

	ret = i2c_transfer(client->adapter, &msg, 1);
	if (ret > 0)
		ret = 0;

	return ret;
}

static int AW6120_read_sensor_array(struct v4l2_subdev *sd, struct regval_list *vals)
{
	int ret;
	unsigned char val;
	while (vals->reg_num != AW6120_REG_END || vals->value != 0) {
		if (vals->reg_num == AW6120_REG_DELAY) {
			if (vals->value >= (1000 / HZ))
				msleep(vals->value);
			else
				mdelay(vals->value);
		} else {
			ret = AW6120_read_sensor_reg(sd, vals->reg_num, &val);
			if (ret < 0)
				return ret;
		}
		printk("sensor read reg:0x%x,\tvalue:0x%x,\twrite val:0x%x\t:%d\n",
				vals->reg_num, val, vals->value, val == vals->value ? 0 : 1);
		vals++;
	}
	return 0;
}

static int AW6120_write_sensor_array(struct v4l2_subdev *sd, struct regval_list *vals)
{
	int ret;
	while (vals->reg_num != AW6120_REG_END || vals->value != 0) {
		if (vals->reg_num == AW6120_REG_DELAY) {
			if (vals->value >= (1000 / HZ))
				msleep(vals->value);
			else
				mdelay(vals->value);
		} else {
			//			printk("sensor write reg:0x%x, value:0x%x\n",vals->reg_num, vals->value);
			ret = AW6120_write_sensor_reg(sd, vals->reg_num, vals->value);
			if (ret < 0)
				return ret;
		}
		vals++;
	}
	return 0;
}

static int AW6120_write(struct v4l2_subdev *sd, unsigned short reg,
		unsigned char value)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);
	unsigned char buf[3] = {reg >> 8, reg & 0xff, value};
	struct i2c_msg msg = {
		.addr	= client->addr,
		.flags	= 0,
		.len	= 3,
		.buf	= buf,
	};
	int ret;

	ret = i2c_transfer(client->adapter, &msg, 1);
	if (ret > 0)
		ret = 0;

	return ret;
}

static int AW6120_read_array(struct v4l2_subdev *sd, struct regval_list *vals)
{
	int ret;
	unsigned char val;
	while (vals->reg_num != AW6120_REG_END || vals->value != 0) {
		if (vals->reg_num == AW6120_REG_DELAY) {
			if (vals->value >= (1000 / HZ))
				msleep(vals->value);
			else
				mdelay(vals->value);
		} else {
			ret = AW6120_read(sd, vals->reg_num, &val);
			if (ret < 0)
				return ret;
		}
		printk("vals->reg_num:%x, vals->value:%x\n",vals->reg_num, val);
		//mdelay(200);
		vals++;
	}
	//printk("vals->reg_num:%x, vals->value:%x\n", vals->reg_num, vals->value);
	AW6120_write(sd, vals->reg_num, vals->value);
	return 0;
}

static int AW6120_write_array(struct v4l2_subdev *sd, struct regval_list *vals)
{
	int ret;
	while (vals->reg_num != AW6120_REG_END || vals->value != 0) {
		if (vals->reg_num == AW6120_REG_DELAY) {
			if (vals->value >= (1000 / HZ))
				msleep(vals->value);
			else
				mdelay(vals->value);
			//printk("vals->reg_num:%x, vals->value:%x\n",vals->reg_num, vals->value);
		} else {
			ret = AW6120_write(sd, vals->reg_num, vals->value);
			if (ret < 0)
				return ret;
		}
		//printk("vals->reg_num:%x, vals->value:%x\n",vals->reg_num, vals->value);
		//mdelay(200);
		vals++;
	}
	//printk("vals->reg_num:%x, vals->value:%x\n", vals->reg_num, vals->value);
	//AW6120_write(sd, vals->reg_num, vals->value);
	return 0;
}

/* R/G and B/G of typical camera module is defined here. */
static unsigned int rg_ratio_typical = 0x58;
static unsigned int bg_ratio_typical = 0x5a;

static int AW6120_update_awb_gain(struct v4l2_subdev *sd,
		unsigned int R_gain, unsigned int G_gain, unsigned int B_gain)
{
	int ret = 0;
	unsigned char h,l;
	AW6120_write(sd, 0xfffd, 0x80);
	AW6120_write(sd, 0xfffe, 0x21);
	/* red gain */
	ret = AW6120_read(sd, 0x0098, &h);
	if (ret < 0)
		return ret;
	ret = AW6120_read(sd, 0x0099, &l);
	if (ret < 0)
		return ret;
	R_gain = h & 0xf;
	R_gain = (R_gain << 8) | l;
	/* green gain */
	ret = AW6120_read(sd, 0x009a, &h);
	if (ret < 0)
		return ret;
	ret = AW6120_read(sd, 0x009b, &l);
	if (ret < 0)
		return ret;
	G_gain = h & 0xf;
	G_gain = (R_gain << 8) | l;
	/* blue gain */
	ret = AW6120_read(sd, 0x009c, &h);
	if (ret < 0)
		return ret;
	ret = AW6120_read(sd, 0x009d, &l);
	if (ret < 0)
		return ret;
	B_gain = h & 0xf;
	B_gain = (R_gain << 8) | l;
	return 0;
}

static int AW6120_reset(struct v4l2_subdev *sd, u32 val)
{
	int ret = 0;
	AW6120_write(sd, 0xfffd, 0x80);
	AW6120_write(sd, 0xfffe, 0x80);
	AW6120_write(sd, 0x0018, 0xff);
	return ret;
}

static int AW6120_detect(struct v4l2_subdev *sd);
static int AW6120_init(struct v4l2_subdev *sd, u32 val)
{
	struct AW6120_info *info = container_of(sd, struct AW6120_info, sd);
	int ret = 0;

	info->fmt = NULL;
	info->win = NULL;

	if (ret < 0)
		return ret;

	return 0;
}
static int AW6120_get_sensor_vts(struct v4l2_subdev *sd, unsigned short *value)
{
	unsigned char h,l;
	int ret = 0;
#if 1
	AW6120_write(sd, 0xfffd, 0x80);
	AW6120_write(sd, 0xfffe, 0x26);
	ret = AW6120_read(sd, 0x201b, &h);
	if (ret < 0)
		return ret;
	ret = AW6120_read(sd, 0x201c, &l);
	if (ret < 0)
		return ret;
	*value = h;
	*value = (*value << 8) | (l);
#endif
	//*value = 0x2d0;
	return ret;
}

static int AW6120_get_sensor_lans(struct v4l2_subdev *sd, unsigned char *value)
{
	*value = 2;
	return 0;
}
static int AW6120_detect(struct v4l2_subdev *sd)
{
	unsigned char v_h, v_l;
	int ret;

	/* Read Aw6120 Chip ID */
	AW6120_write(sd, 0xfffd, 0x80);
	AW6120_write(sd, 0xfffe, 0x80);
	ret = AW6120_read(sd, 0x0003, &v_h);
	if (ret < 0)
		return ret;
	ret = AW6120_read(sd, 0x0002, &v_l);
	if (ret < 0)
		return ret;

	if ((v_h != AW6120_CHIP_ID_H) || (v_l != AW6120_CHIP_ID_L)) {
		printk("AW6120 Chip ID read failed:0x%02x%02x\n", v_h, v_l);
		return -ENODEV;
	}

	/* Read GC1004 Sensor ID */
	ret = AW6120_write_array(sd, AW6120_init_read_sensor_id_regs);
	if (ret < 0)
		return ret;

	/* Aw6120 I2C bypass */
	ret = AW6120_write_array(sd, AW6120_IIC_by_pass_regs);
	if (ret < 0)
		return ret;

	ret = AW6120_read_sensor_reg(sd, 0xf0, &v_h);
	if (ret < 0)
		return ret;
	ret = AW6120_read_sensor_reg(sd, 0xf1, &v_l);
	if (ret < 0)
		return ret;

	if ((v_h != GC1004_SENSOR_ID_H) || (v_l != GC1004_SENSOR_ID_L)) {
		printk("GC1004 Sensor ID read failed:0x%02x%02x\n", v_h, v_l);
		return -ENODEV;
	}

	/* Aw6120 I2C no bypass */
	ret = AW6120_write_array(sd, AW6120_IIC_no_by_pass_regs);
	if (ret < 0)
		return ret;

	return 0;
}

static int AW6120_enum_mbus_fmt(struct v4l2_subdev *sd, unsigned index,
		enum v4l2_mbus_pixelcode *code)
{
	if (index >= N_AW6120_FMTS)
		return -EINVAL;

	*code = AW6120_formats[index].mbus_code;
	return 0;
}

static int AW6120_try_fmt_internal(struct v4l2_subdev *sd,
		struct v4l2_mbus_framefmt *fmt,
		struct AW6120_win_setting **ret_wsize)
{
	struct AW6120_win_setting *wsize;

	if(fmt->width > MAX_WIDTH || fmt->height > MAX_HEIGHT)
		return -EINVAL;
	for (wsize = AW6120_win_sizes; wsize < AW6120_win_sizes + N_WIN_SIZES;
			wsize++)
		if (fmt->width >= wsize->width && fmt->height >= wsize->height)
			break;
	if (wsize >= AW6120_win_sizes + N_WIN_SIZES)
		wsize--;   /* Take the smallest one */
	if (ret_wsize != NULL)
		*ret_wsize = wsize;
	fmt->width = wsize->width;
	fmt->height = wsize->height;
	fmt->code = wsize->mbus_code;
	fmt->field = V4L2_FIELD_NONE;
	fmt->colorspace = wsize->colorspace;
	return 0;
}

static int AW6120_try_mbus_fmt(struct v4l2_subdev *sd,
		struct v4l2_mbus_framefmt *fmt)
{
	return AW6120_try_fmt_internal(sd, fmt, NULL);
}

static int AW6120_s_mbus_fmt(struct v4l2_subdev *sd,
		struct v4l2_mbus_framefmt *fmt)
{
	struct AW6120_info *info = container_of(sd, struct AW6120_info, sd);
	struct v4l2_fmt_data *data = v4l2_get_fmt_data(fmt);
	struct AW6120_win_setting *wsize;
	int ret;

	ret = AW6120_try_fmt_internal(sd, fmt, &wsize);
	if (ret)
		return ret;
	if ((info->win != wsize) && wsize->regs) {
		ret = AW6120_write_array(sd, wsize->regs);
		if (ret)
			return ret;
	}
	data->i2cflags = 0;
	data->mipi_clk = 282;
	ret = AW6120_get_sensor_vts(sd, &(data->vts));
	if(ret < 0)
		return ret;

	ret = AW6120_get_sensor_lans(sd, &(data->lans));
	if(ret < 0)
		return ret;

	info->win = wsize;
#if 0
	{
		unsigned char h;
		AW6120_write(sd, 0xfffd, 0x80);
		AW6120_write(sd, 0xfffe, 0x80);
		AW6120_write(sd, 0x0137, 0x66);
		udelay(5);
		/* red gain */
		AW6120_write(sd, 0xfffe, 0x80);
		AW6120_read(sd, 0x0137, &h);
		//	printk("&&&&&&&&& 0x0137 = 0x%02x\n",h);
		//	while(1);
	}
#endif
	return 0;
}

static int AW6120_s_stream(struct v4l2_subdev *sd, int enable)
{
	int ret = 0;

	if (enable) {
		ret = AW6120_write_array(sd, AW6120_pre);
		if (ret < 0)
			return ret;
		ret = AW6120_write_array(sd, AW6120_pre_and_gc1004_regs);
		if (ret < 0)
			return ret;

#if SENSOR_AE_DEBUG //clivia test
		mdelay(20);
		ret = AW6120_write_array(sd, AW6120_check_mipi_rx_regs);
		ret = AW6120_read_array(sd, AW6120_check_mipi_rx_read_regs);

		mdelay(200);
		ret = AW6120_write_array(sd, AW6120_check_ae_rx_regs);
		ret = AW6120_read_array(sd, AW6120_check_ae_rx_read_regs);
		ret = AW6120_write_array(sd, AW6120_check_ae2_rx_regs);
		ret = AW6120_read_array(sd, AW6120_check_ae2_rx_read_regs);

#endif

#if 0 /* We not need check sensor at here */
#if 1 // check sensor ID
		ret = AW6120_write_array(sd, AW6120_IIC_by_pass_regs);
		if (ret < 0)
			return ret;
		mdelay(10);

		unsigned char v_0 = 0, v_1 = 0;
		ret = AW6120_read_sensor_reg(sd, 0xf0, &v_0);
		if (ret < 0)
			return ret;
		ret = AW6120_read_sensor_reg(sd, 0xf1, &v_1);
		if (ret < 0)
			return ret;
		if((v_0 != 0x10) || (v_1 != 0x04)) {
			printk("GC1004 Sensor ID read failed:0x%02X%02x\n", v_0, v_1);
			return -1;
		}
#endif

#if SENSOR_AE_DEBUG //clivia test
		mdelay(200);
		ret = AW6120_write_sensor_reg(sd, 0xfe, 0);
		if (ret < 0)
			return ret;
		ret = AW6120_read_sensor_array(sd, gc1004_check_rae_regs);
		if (ret < 0)
			return ret;

#endif
#if 1 // sensor ID check end
		ret = AW6120_write_array(sd, AW6120_IIC_no_by_pass_regs);
		mdelay(10);
#endif
#endif
		// Stream on
		ret = AW6120_write_array(sd, AW6120_stream_on);
		printk("AW6120 stream on\n");
	}
	else {
		ret = AW6120_write_array(sd, AW6120_stream_off);
		printk("AW6120 stream off\n");
	}
	return ret;
}

static int AW6120_g_crop(struct v4l2_subdev *sd, struct v4l2_crop *a)
{
	a->c.left	= 0;
	a->c.top	= 0;
	a->c.width	= MAX_WIDTH;
	a->c.height	= MAX_HEIGHT;
	a->type		= V4L2_BUF_TYPE_VIDEO_CAPTURE;

	return 0;
}

static int AW6120_cropcap(struct v4l2_subdev *sd, struct v4l2_cropcap *a)
{
	a->bounds.left			= 0;
	a->bounds.top			= 0;
	a->bounds.width			= MAX_WIDTH;
	a->bounds.height		= MAX_HEIGHT;
	a->defrect			= a->bounds;
	a->type				= V4L2_BUF_TYPE_VIDEO_CAPTURE;
	a->pixelaspect.numerator	= 1;
	a->pixelaspect.denominator	= 1;

	return 0;
}

static int AW6120_g_parm(struct v4l2_subdev *sd, struct v4l2_streamparm *parms)
{
	return 0;
}

static int AW6120_s_parm(struct v4l2_subdev *sd, struct v4l2_streamparm *parms)
{
	return 0;
}

static int AW6120_frame_rates[] = { 90, 60, 45, 30, 15 };

static int AW6120_enum_frameintervals(struct v4l2_subdev *sd,
		struct v4l2_frmivalenum *interval)
{
	if (interval->index >= ARRAY_SIZE(AW6120_frame_rates))
		return -EINVAL;
	interval->type = V4L2_FRMIVAL_TYPE_DISCRETE;
	interval->discrete.numerator = 1;
	interval->discrete.denominator = AW6120_frame_rates[interval->index];
	return 0;
}

static int AW6120_enum_framesizes(struct v4l2_subdev *sd,
		struct v4l2_frmsizeenum *fsize)
{
	int i;
	int num_valid = -1;
	__u32 index = fsize->index;

	/*
	 * If a minimum width/height was requested, filter out the capture
	 * windows that fall outside that.
	 */
	for (i = 0; i < N_WIN_SIZES; i++) {
		struct AW6120_win_setting *win = &AW6120_win_sizes[index];
		if (index == ++num_valid) {
			fsize->type = V4L2_FRMSIZE_TYPE_DISCRETE;
			fsize->discrete.width = win->width;
			fsize->discrete.height = win->height;
			return 0;
		}
	}

	return -EINVAL;
}

static int AW6120_queryctrl(struct v4l2_subdev *sd,
		struct v4l2_queryctrl *qc)
{
	return 0;
}

static int AW6120_g_ctrl(struct v4l2_subdev *sd, struct v4l2_control *ctrl)
{
	return 0;
}

static int AW6120_s_ctrl(struct v4l2_subdev *sd, struct v4l2_control *ctrl)
{
	return 0;
}

static int AW6120_g_chip_ident(struct v4l2_subdev *sd,
		struct v4l2_dbg_chip_ident *chip)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);

	//	return v4l2_chip_ident_i2c_client(client, chip, V4L2_IDENT_AW6120, 0);
	return v4l2_chip_ident_i2c_client(client, chip, 123, 0);
}

#ifdef CONFIG_VIDEO_ADV_DEBUG
static int AW6120_g_register(struct v4l2_subdev *sd, struct v4l2_dbg_register *reg)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);
	unsigned char val = 0;
	int ret;

	if (!v4l2_chip_match_i2c_client(client, &reg->match))
		return -EINVAL;
	if (!capable(CAP_SYS_ADMIN))
		return -EPERM;
	ret = AW6120_read(sd, reg->reg & 0xffff, &val);
	reg->val = val;
	reg->size = 2;
	return ret;
}

static int AW6120_s_register(struct v4l2_subdev *sd, struct v4l2_dbg_register *reg)
{
	struct i2c_client *client = v4l2_get_subdevdata(sd);

	if (!v4l2_chip_match_i2c_client(client, &reg->match))
		return -EINVAL;
	if (!capable(CAP_SYS_ADMIN))
		return -EPERM;
	AW6120_write(sd, reg->reg & 0xffff, reg->val & 0xff);
	return 0;
}
#endif

static int AW6120_s_power(struct v4l2_subdev *sd, int on)
{
	return 0;
}

static const struct v4l2_subdev_core_ops AW6120_core_ops = {
	.g_chip_ident = AW6120_g_chip_ident,
	.g_ctrl = AW6120_g_ctrl,
	.s_ctrl = AW6120_s_ctrl,
	.queryctrl = AW6120_queryctrl,
	.reset = AW6120_reset,
	.init = AW6120_init,
	.s_power = AW6120_s_power,
#ifdef CONFIG_VIDEO_ADV_DEBUG
	.g_register = AW6120_g_register,
	.s_register = AW6120_s_register,
#endif
};

static const struct v4l2_subdev_video_ops AW6120_video_ops = {
	.enum_mbus_fmt = AW6120_enum_mbus_fmt,
	.try_mbus_fmt = AW6120_try_mbus_fmt,
	.s_mbus_fmt = AW6120_s_mbus_fmt,
	.s_stream = AW6120_s_stream,
	.cropcap = AW6120_cropcap,
	.g_crop	= AW6120_g_crop,
	.s_parm = AW6120_s_parm,
	.g_parm = AW6120_g_parm,
	.enum_frameintervals = AW6120_enum_frameintervals,
	.enum_framesizes = AW6120_enum_framesizes,
};

static const struct v4l2_subdev_ops AW6120_ops = {
	.core = &AW6120_core_ops,
	.video = &AW6120_video_ops,
};

static ssize_t AW6120_rg_ratio_typical_show(struct device *dev,
		struct device_attribute *attr, char *buf)
{
	return sprintf(buf, "%d", rg_ratio_typical);
}

static ssize_t AW6120_rg_ratio_typical_store(struct device *dev,
		struct device_attribute *attr, const char *buf, size_t size)
{
	char *endp;
	int value;

	value = simple_strtoul(buf, &endp, 0);
	if (buf == endp)
		return -EINVAL;

	rg_ratio_typical = (unsigned int)value;

	return size;
}

static ssize_t AW6120_bg_ratio_typical_show(struct device *dev,
		struct device_attribute *attr, char *buf)
{
	return sprintf(buf, "%d", bg_ratio_typical);
}

static ssize_t AW6120_bg_ratio_typical_store(struct device *dev,
		struct device_attribute *attr, const char *buf, size_t size)
{
	char *endp;
	int value;

	value = simple_strtoul(buf, &endp, 0);
	if (buf == endp)
		return -EINVAL;

	bg_ratio_typical = (unsigned int)value;

	return size;
}

static DEVICE_ATTR(AW6120_rg_ratio_typical, 0664, AW6120_rg_ratio_typical_show, AW6120_rg_ratio_typical_store);
static DEVICE_ATTR(AW6120_bg_ratio_typical, 0664, AW6120_bg_ratio_typical_show, AW6120_bg_ratio_typical_store);

static int AW6120_probe(struct i2c_client *client,
		const struct i2c_device_id *id)
{
	struct v4l2_subdev *sd;
	struct AW6120_info *info;
	int ret;

	info = kzalloc(sizeof(struct AW6120_info), GFP_KERNEL);
	if (info == NULL)
		return -ENOMEM;
	sd = &info->sd;
	v4l2_i2c_subdev_init(sd, client, &AW6120_ops);

	/* Make sure it's an AW6120 */
	//aaa:
	ret = AW6120_detect(sd);
	if (ret) {
		v4l_err(client,
				"chip found @ 0x%x (%s) is not an AW6120 chip or not an GC1004 Sensor.\n",
				client->addr, client->adapter->name);
		//		goto aaa;
		kfree(info);
		return ret;
	}
	v4l_info(client, "AW6120 chip found @ 0x%02x (%s)\n",
			client->addr, client->adapter->name);

	ret = device_create_file(&client->dev, &dev_attr_AW6120_rg_ratio_typical);
	if(ret){
		v4l_err(client, "create dev_attr_AW6120_rg_ratio_typical failed!\n");
		goto err_create_dev_attr_AW6120_rg_ratio_typical;
	}

	ret = device_create_file(&client->dev, &dev_attr_AW6120_bg_ratio_typical);
	if(ret){
		v4l_err(client, "create dev_attr_AW6120_bg_ratio_typical failed!\n");
		goto err_create_dev_attr_AW6120_bg_ratio_typical;
	}

	//printk("probe ok ------->AW6120\n");
	return 0;

err_create_dev_attr_AW6120_bg_ratio_typical:
	device_remove_file(&client->dev, &dev_attr_AW6120_rg_ratio_typical);
err_create_dev_attr_AW6120_rg_ratio_typical:
	kfree(info);
	return ret;
}

static int AW6120_remove(struct i2c_client *client)
{
	struct v4l2_subdev *sd = i2c_get_clientdata(client);
	struct AW6120_info *info = container_of(sd, struct AW6120_info, sd);

	device_remove_file(&client->dev, &dev_attr_AW6120_rg_ratio_typical);
	device_remove_file(&client->dev, &dev_attr_AW6120_bg_ratio_typical);

	v4l2_device_unregister_subdev(sd);
	kfree(info);
	return 0;
}

static const struct i2c_device_id AW6120_id[] = {
	{ "aw6120", 0 },
	{ }
};
MODULE_DEVICE_TABLE(i2c, AW6120_id);

static struct i2c_driver AW6120_driver = {
	.driver = {
		.owner	= THIS_MODULE,
		.name	= "aw6120",
	},
	.probe		= AW6120_probe,
	.remove		= AW6120_remove,
	.id_table	= AW6120_id,
};

static __init int init_AW6120(void)
{
	return i2c_add_driver(&AW6120_driver);
}

static __exit void exit_AW6120(void)
{
	i2c_del_driver(&AW6120_driver);
}

module_init(init_AW6120);
module_exit(exit_AW6120);

MODULE_DESCRIPTION("A low-level driver for OmniVision AW6120 sensors");
MODULE_LICENSE("GPL");
